<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
    <title type="text">Bitcoin Core</title>
    <link rel="self" type="application/atom+xml" href="https://bitcoincore.org/en/feed.xml" />
    <link rel="alternate" type="text/html" href="https://bitcoincore.org" />
    <updated>2018-09-30T00:51:41+07:00</updated>
    <id></id>
    <author>
        <name>Bitcoin Core</name>
        <uri>https://bitcoincore.org</uri>
        
    </author>
    
    
    
    <entry>
        <title type="html"><![CDATA[CVE-2018-17144 Full Disclosure]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2018/09/20/notice/" />
        <id>en-cve-2018-17144-full-disclosure</id>
        <published>2018-09-20T00:00:00+07:00</published>
        <updated>2018-09-20T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2018/09/20/notice/</uri>
            
        </author>
        <content type="html">
            &lt;h1 id=&quot;full-disclosure&quot;&gt;Full disclosure&lt;/h1&gt;
&lt;p&gt;CVE-2018-17144, a fix for which was released on September 18th in Bitcoin Core versions 0.16.3 and 0.17.0rc4, includes both a Denial of Service component and a critical inflation vulnerability. It was originally reported to several developers working on Bitcoin Core, as well as projects supporting other cryptocurrencies, including ABC and Unlimited on September 17th as a Denial of Service bug only, however we quickly determined that the issue was also an inflation vulnerability with the same root cause and fix.&lt;/p&gt;

&lt;p&gt;In order to encourage rapid upgrades, the decision was made to immediately patch and disclose the less serious Denial of Service vulnerability, concurrently with reaching out to miners, businesses, and other affected systems while delaying publication of the full issue to give times for systems to upgrade. On September 20th a post in a public forum reported the full impact and although it was quickly retracted the claim was further circulated.&lt;/p&gt;

&lt;p&gt;At this time we believe over half of the Bitcoin hashrate has upgraded to patched nodes. We are unaware of any attempts to exploit this vulnerability.&lt;/p&gt;

&lt;p&gt;However, it still remains critical that affected users upgrade and apply the latest patches to ensure no possibility of large reorganizations, mining of invalid blocks, or acceptance of invalid transactions occurs.&lt;/p&gt;

&lt;h1 id=&quot;technical-details&quot;&gt;Technical Details&lt;/h1&gt;

&lt;p&gt;In Bitcoin Core 0.14, an optimization was added (Bitcoin Core PR #9049) which avoided a costly check during initial pre-relay block validation that multiple inputs within a single transaction did not spend the same input twice which was added in 2012 (PR #443). While the UTXO-updating logic has sufficient knowledge to check that such a condition is not violated in 0.14 it only did so in a sanity check assertion and not with full error handling (it did, however, fully handle this case twice in prior to 0.8).&lt;/p&gt;

&lt;p&gt;Thus, in Bitcoin Core 0.14.X, any attempts to double-spend a transaction output within a single transaction inside of a block will result in an assertion failure and a crash, as was originally reported.&lt;/p&gt;

&lt;p&gt;In Bitcoin Core 0.15, as a part of a larger redesign to simplify unspent transaction output tracking and correct a resource exhaustion attack the assertion was changed subtly. Instead of asserting that the output being marked spent was previously unspent, it only asserts that it exists.&lt;/p&gt;

&lt;p&gt;Thus, in Bitcoin Core 0.15.X, 0.16.0, 0.16.1, and 0.16.2, any attempts to double-spend a transaction output within a single transaction inside of a block where the output being spent was created in the same block, the same assertion failure will occur (as exists in the test case which was included in the 0.16.3 patch). However, if the output being double-spent was created in a previous block, an entry will still remain in the CCoin map with the DIRTY flag set and having been marked as spent, resulting in no such assertion. This could allow a miner to inflate the supply of Bitcoin as they would be then able to claim the value being spent twice.&lt;/p&gt;

&lt;h1 id=&quot;timeline&quot;&gt;Timeline&lt;/h1&gt;

&lt;p&gt;Timeline for September 17, 2018: (all times UTC)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;14:57 anonymous reporter reports crash bug to: Pieter Wuille, Greg Maxwell, Wladimir Van Der Laan of Bitcoin Core, deadalnix of Bitcoin ABC, and sickpig of Bitcoin Unlimited.&lt;/li&gt;
  &lt;li&gt;15:15 Greg Maxwell shares the original report with Cory Fields, Suhas Daftuar, Alex Morcos and Matt Corallo&lt;/li&gt;
  &lt;li&gt;17:47 Matt Corallo identifies inflation bug&lt;/li&gt;
  &lt;li&gt;19:15 Matt Corallo first tries to reach slushpool CEO to have a line of communication open to apply a patch quickly&lt;/li&gt;
  &lt;li&gt;19:29 Greg Maxwell timestamps the hash of a test-case which demonstrates the inflation vulnerability (a47344b7dceddff6c6cc1c7e97f1588d99e6dba706011b6ccc2e615b88fe4350)&lt;/li&gt;
  &lt;li&gt;20:15 John Newbery and James O’Beirne are informed of the vulnerability so they can assist in alerting companies to a pending patch for a DoS vulnerability&lt;/li&gt;
  &lt;li&gt;20:30 Matt Corallo speaks with slushpool CTO and CEO and shares patch with disclosure of the Denial of Service&lt;/li&gt;
  &lt;li&gt;20:48 slushpool confirmed upgraded&lt;/li&gt;
  &lt;li&gt;21:08 Alert was sent to Bitcoin ABC that a patch will be posted publicly by 22:00&lt;/li&gt;
  &lt;li&gt;21:30 (approx)  Responded to original reporter with an acknowledgment&lt;/li&gt;
  &lt;li&gt;21:57 Bitcoin Core PR 14247 published with patch and test demonstrating the Denial of Service bug&lt;/li&gt;
  &lt;li&gt;21:58 Bitcoin ABC publishes their patch&lt;/li&gt;
  &lt;li&gt;22:07 Advisory email with link to Bitcoin Core PR and patch goes out to Optech members, among others&lt;/li&gt;
  &lt;li&gt;23:21 Bitcoin Core version 0.17.0rc4 tagged&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;September 18, 2018:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;00:24 Bitcoin Core version 0.16.3 tagged&lt;/li&gt;
  &lt;li&gt;20:44 Bitcoin Core release binaries and release announcements were available&lt;/li&gt;
  &lt;li&gt;21:47 Bitcointalk and reddit have public banners urging people to upgrade&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;September 19, 2018:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;14:06  The mailing list distributes an additional message urging people to upgrade by Pieter Wuille&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;September 20, 2018:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;19:50 A developer by the title earlz independently discovered and reported the vulnerability to the Bitcoin Core security contact email.&lt;/li&gt;
&lt;/ul&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2018/09/20/notice/&quot;&gt;CVE-2018-17144 Full Disclosure&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on September 20, 2018.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.16.3 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2018/09/18/release-0.16.3/" />
        <id>en-blog-release-0.16.3</id>
        <published>2018-09-18T00:00:00+07:00</published>
        <updated>2018-09-18T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2018/09/18/release-0.16.3/</uri>
            
        </author>
        <content type="html">
            &lt;p&gt;Bitcoin Core version 0.16.3 is now available for &lt;a href=&quot;/en/download&quot;&gt;download&lt;/a&gt; with a fix for a denial-of-service vulnerability introduced in
Bitcoin Core 0.14.0 and affecting all subsequent versions though to
0.16.2.  We highly recommend users of all affected versions immediately
upgrade to 0.16.3.&lt;/p&gt;

&lt;p&gt;Security issue &lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-17144&quot;&gt;CVE-2018-17144&lt;/a&gt;: it was discovered that older versions of Bitcoin Core
will crash if they try to process a block containing a transaction that
attempts to spend the same input twice.  Such blocks are invalid, so
they can only be created by a miner willing to sacrifice their allowed
income for creating a block of at least 12.5 BTC (about $80,000 USD as
of this writing).  This release eliminates the crash, allowing the
software to quietly reject such invalid blocks.&lt;/p&gt;

&lt;p&gt;For a complete list of changes, please see the &lt;a href=&quot;/en/releases/0.16.3/&quot;&gt;release notes&lt;/a&gt;.  If
have any questions, please stop by our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC chatroom&lt;/a&gt; and we’ll do
our best to help you.&lt;/p&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2018/09/18/release-0.16.3/&quot;&gt;Bitcoin Core 0.16.3 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on September 18, 2018.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.16.2 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2018/07/29/release-0.16.2/" />
        <id>en-blog-release-0.16.2</id>
        <published>2018-07-29T00:00:00+07:00</published>
        <updated>2018-07-29T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2018/07/29/release-0.16.2/</uri>
            
        </author>
        <content type="html">
            &lt;p&gt;Bitcoin Core version 0.16.2 is now available for &lt;a href=&quot;/en/download&quot;&gt;download&lt;/a&gt;.  All users are encouraged to upgrade to this &lt;a href=&quot;/en/lifecycle/#maintenance-releases&quot;&gt;maintenance
release&lt;/a&gt; that fixes several bugs and provides backports of new minor
features, such as:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;The &lt;a href=&quot;/en/doc/0.16.2/rpc/blockchain/verifytxoutproof/&quot;&gt;verifytxoutproof RPC&lt;/a&gt; is no longer
vulnerable to a particular &lt;a href=&quot;https://bitslog.wordpress.com/2018/06/09/leaf-node-weakness-in-bitcoin-merkle-tree-design/&quot;&gt;expensive attack&lt;/a&gt;
against SPV proofs publicly disclosed in early June.  The attack was
considered unlikely given that much cheaper attacks of roughly equal
effectiveness are well known.  Similarly, the &lt;a href=&quot;/en/doc/0.16.2/rpc/blockchain/getblock/&quot;&gt;getblock RPC&lt;/a&gt; also now returns extra information that can be used to
defeat this attack even if the requested block has been pruned.  None
of this mitigates the attack for actual SPV clients.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The &lt;a href=&quot;/en/doc/0.16.2/rpc/wallet/abandontransaction/&quot;&gt;abandontransaction RPC&lt;/a&gt; has been fixed
to abandon all descendant transactions, not just children.  As before,
you can call this RPC when you no longer want your wallet to
re-broadcast an old unconfirmed transaction. Note that the RPC can not
force miners or other nodes to forget about the transaction.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For a complete list of changes, please see the &lt;a href=&quot;/en/releases/0.16.2/&quot;&gt;release notes&lt;/a&gt;.  If
have any questions, please stop by our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC chatroom&lt;/a&gt; and we’ll do
our best to help you.&lt;/p&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2018/07/29/release-0.16.2/&quot;&gt;Bitcoin Core 0.16.2 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on July 29, 2018.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.16.1 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2018/06/15/release-0.16.1/" />
        <id>en-blog-release-0.16.1</id>
        <published>2018-06-15T00:00:00+07:00</published>
        <updated>2018-06-15T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2018/06/15/release-0.16.1/</uri>
            
        </author>
        <content type="html">
            &lt;p&gt;Bitcoin Core version 0.16.1 is now available for &lt;a href=&quot;/en/download&quot;&gt;download&lt;/a&gt;.  All users are encouraged to upgrade to this &lt;a href=&quot;/en/lifecycle/#maintenance-releases&quot;&gt;maintenance
release&lt;/a&gt; that fixes several bugs and provides backports of new minor
features, such as:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Mitigating a vector for denial-of-service attacks.  This attack required
compromising particular services and would’ve probably been most
effective against nodes that were started for the first time (rather
than nodes that had already been connected to the network for more
than a few hours).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Fixing a bug that could’ve potentially caused miners to lose revenue if
they produced two blocks in very rapid succession.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Ceasing relay of transactions using the rarely-seen &lt;code class=&quot;highlighter-rouge&quot;&gt;OP_CODESEPARATOR&lt;/code&gt; opcode for legacy
(non-segwit) signature scripts.  The presence of this opcode makes it
difficult for nodes to estimate how much computational work will be
required to validate a legacy signature script.  Because of that, it
blocks the deployment of solutions to prevent attackers from creating
blocks that require a long time to validate.  By itself, this change
to relay policy doesn’t fix the problem itself, but it does make it
easier and safer to deploy proposed solutions in the future should
users consent to adopt them.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For a complete list of changes, please see the &lt;a href=&quot;/en/releases/0.16.1/&quot;&gt;release notes&lt;/a&gt;.  If
have any questions, please stop by our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC chatroom&lt;/a&gt; and we’ll do
our best to help you.&lt;/p&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2018/06/15/release-0.16.1/&quot;&gt;Bitcoin Core 0.16.1 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on June 15, 2018.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.16.0 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2018/02/26/release-0.16.0/" />
        <id>en-blog-release-0.16.0</id>
        <published>2018-02-26T00:00:00+07:00</published>
        <updated>2018-02-26T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2018/02/26/release-0.16.0/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#segwit-wallet&quot; id=&quot;markdown-toc-segwit-wallet&quot;&gt;Segwit Wallet&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#bip173-bech32-address-support-bc1-addresses&quot; id=&quot;markdown-toc-bip173-bech32-address-support-bc1-addresses&quot;&gt;BIP173 (Bech32) Address support (“bc1…” addresses)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hd-wallets-by-default&quot; id=&quot;markdown-toc-hd-wallets-by-default&quot;&gt;HD-wallets by default&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#replace-by-fee-by-default-in-gui&quot; id=&quot;markdown-toc-replace-by-fee-by-default-in-gui&quot;&gt;Replace-By-Fee by default in GUI&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#wallets-directory-configuration&quot; id=&quot;markdown-toc-wallets-directory-configuration&quot;&gt;Wallets directory configuration&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#support-for-signalling-pruned-nodes-bip159&quot; id=&quot;markdown-toc-support-for-signalling-pruned-nodes-bip159&quot;&gt;Support for signalling pruned nodes (BIP159)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#performance-sha256-assembly-enabled-by-default&quot; id=&quot;markdown-toc-performance-sha256-assembly-enabled-by-default&quot;&gt;Performance: SHA256 assembly enabled by default&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#gui-changes&quot; id=&quot;markdown-toc-gui-changes&quot;&gt;GUI changes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#new-rescanblockchain-rpc&quot; id=&quot;markdown-toc-new-rescanblockchain-rpc&quot;&gt;New rescanblockchain RPC&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#new-savemempool-rpc&quot; id=&quot;markdown-toc-new-savemempool-rpc&quot;&gt;New savemempool RPC&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#safe-mode-disabled-by-default&quot; id=&quot;markdown-toc-safe-mode-disabled-by-default&quot;&gt;Safe mode disabled by default&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#renamed-script-for-creating-json-rpc-credentials&quot; id=&quot;markdown-toc-renamed-script-for-creating-json-rpc-credentials&quot;&gt;Renamed script for creating JSON-RPC credentials&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#validateaddress-improvements&quot; id=&quot;markdown-toc-validateaddress-improvements&quot;&gt;Validateaddress improvements&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#low-level-changes&quot; id=&quot;markdown-toc-low-level-changes&quot;&gt;Low-level changes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#other-changed-command-line-options&quot; id=&quot;markdown-toc-other-changed-command-line-options&quot;&gt;Other changed command-line options&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#testing-changes&quot; id=&quot;markdown-toc-testing-changes&quot;&gt;Testing changes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hashes-for-verification&quot; id=&quot;markdown-toc-hashes-for-verification&quot;&gt;Hashes for verification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;We are pleased to announce the release of Bitcoin Core 0.16.0, the first
version of Bitcoin Core to include default wallet support for segregated
witness (segwit).  The release also contains several other improvements
and bug fixes as described below.&lt;/p&gt;

&lt;p&gt;The latest release is available for download from the &lt;a href=&quot;/en/download&quot;&gt;Download
Page&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The following sections describe the most significant changes in this
release.  For full details, please see the &lt;a href=&quot;/en/releases/0.16.0/&quot;&gt;Release Notes&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;segwit-wallet&quot;&gt;Segwit Wallet&lt;/h3&gt;

&lt;p&gt;Bitcoin Core 0.16.0 introduces full support for segwit in the wallet and user interfaces. A new &lt;code class=&quot;highlighter-rouge&quot;&gt;-addresstype&lt;/code&gt; argument has been added, which supports &lt;code class=&quot;highlighter-rouge&quot;&gt;legacy&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;p2sh-segwit&lt;/code&gt; (default), and &lt;code class=&quot;highlighter-rouge&quot;&gt;bech32&lt;/code&gt; addresses. It controls what kind of addresses are produced by &lt;code class=&quot;highlighter-rouge&quot;&gt;getnewaddress&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getaccountaddress&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;createmultisigaddress&lt;/code&gt;. A &lt;code class=&quot;highlighter-rouge&quot;&gt;-changetype&lt;/code&gt; argument has also been added, with the same options, and by default equal to &lt;code class=&quot;highlighter-rouge&quot;&gt;-addresstype&lt;/code&gt;, to control which kind of change is used.&lt;/p&gt;

&lt;p&gt;A new &lt;code class=&quot;highlighter-rouge&quot;&gt;address_type&lt;/code&gt; parameter has been added to the &lt;code class=&quot;highlighter-rouge&quot;&gt;getnewaddress&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;addmultisigaddress&lt;/code&gt; RPCs to specify which type of address to generate.
A &lt;code class=&quot;highlighter-rouge&quot;&gt;change_type&lt;/code&gt; argument has been added to the &lt;code class=&quot;highlighter-rouge&quot;&gt;fundrawtransaction&lt;/code&gt; RPC to override the &lt;code class=&quot;highlighter-rouge&quot;&gt;-changetype&lt;/code&gt; argument for specific transactions.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;All segwit addresses created through &lt;code class=&quot;highlighter-rouge&quot;&gt;getnewaddress&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;*multisig&lt;/code&gt; RPCs explicitly get their redeemscripts added to the wallet file. This means that downgrading after creating a segwit address will work, as long as the wallet file is up to date.&lt;/li&gt;
  &lt;li&gt;All segwit keys in the wallet get an implicit redeemscript added, without it being written to the file. This means recovery of an old backup will work, as long as you use new software.&lt;/li&gt;
  &lt;li&gt;All keypool keys that are seen used in transactions explicitly get their redeemscripts added to the wallet files. This means that downgrading after recovering from a backup that includes a segwit address will work&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note that some RPCs do not yet support segwit addresses. Notably, &lt;code class=&quot;highlighter-rouge&quot;&gt;signmessage&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;verifymessage&lt;/code&gt; doesn’t support segwit addresses, nor does &lt;code class=&quot;highlighter-rouge&quot;&gt;importmulti&lt;/code&gt; at this time. Support for segwit in those RPCs will continue to be added in future versions.&lt;/p&gt;

&lt;p&gt;P2WPKH change outputs are now used by default if any destination in the transaction is a P2WPKH or P2WSH output. This is done to ensure the change output is as indistinguishable from the other outputs as possible in either case.&lt;/p&gt;

&lt;h3 id=&quot;bip173-bech32-address-support-bc1-addresses&quot;&gt;BIP173 (Bech32) Address support (“bc1…” addresses)&lt;/h3&gt;

&lt;p&gt;Full support for native segwit addresses (BIP173 / Bech32) has now been added.
This includes the ability to send to BIP173 addresses (including non-v0 ones), and generating these
addresses (including as default new addresses, see above).&lt;/p&gt;

&lt;p&gt;A checkbox has been added to the GUI to select whether a Bech32 address or P2SH-wrapped address should be generated when using segwit addresses. When launched with &lt;code class=&quot;highlighter-rouge&quot;&gt;-addresstype=bech32&lt;/code&gt; it is checked by default. When launched with &lt;code class=&quot;highlighter-rouge&quot;&gt;-addresstype=legacy&lt;/code&gt; it is unchecked and disabled.&lt;/p&gt;

&lt;h3 id=&quot;hd-wallets-by-default&quot;&gt;HD-wallets by default&lt;/h3&gt;

&lt;p&gt;Due to a backward-incompatible change in the wallet database, wallets created
with version 0.16.0 will be rejected by previous versions. Also, version 0.16.0
will only create hierarchical deterministic (HD) wallets. Note that this only applies
to new wallets; wallets made with previous versions will not be upgraded to be HD.&lt;/p&gt;

&lt;h3 id=&quot;replace-by-fee-by-default-in-gui&quot;&gt;Replace-By-Fee by default in GUI&lt;/h3&gt;

&lt;p&gt;The send screen now uses BIP125 RBF by default, regardless of &lt;code class=&quot;highlighter-rouge&quot;&gt;-walletrbf&lt;/code&gt;.
There is a checkbox to mark the transaction as final.&lt;/p&gt;

&lt;p&gt;The RPC default remains unchanged: to use RBF, launch with &lt;code class=&quot;highlighter-rouge&quot;&gt;-walletrbf=1&lt;/code&gt; or
use the &lt;code class=&quot;highlighter-rouge&quot;&gt;replaceable&lt;/code&gt; argument for individual transactions.&lt;/p&gt;

&lt;h3 id=&quot;wallets-directory-configuration&quot;&gt;Wallets directory configuration&lt;/h3&gt;

&lt;p&gt;Bitcoin Core now has more flexibility in where the wallets directory can be
located. Previously wallet database files were stored at the top level of the
bitcoin data directory. The behavior is now:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;For new installations (where the data directory doesn’t already exist),
wallets will now be stored in a new &lt;code class=&quot;highlighter-rouge&quot;&gt;wallets/&lt;/code&gt; subdirectory inside the data
directory by default.&lt;/li&gt;
  &lt;li&gt;For existing nodes (where the data directory already exists), wallets will be
stored in the data directory root by default. If a &lt;code class=&quot;highlighter-rouge&quot;&gt;wallets/&lt;/code&gt; subdirectory
already exists in the data directory root, then wallets will be stored in the
&lt;code class=&quot;highlighter-rouge&quot;&gt;wallets/&lt;/code&gt; subdirectory by default.&lt;/li&gt;
  &lt;li&gt;The location of the wallets directory can be overridden by specifying a
&lt;code class=&quot;highlighter-rouge&quot;&gt;-walletdir=&amp;lt;path&amp;gt;&lt;/code&gt; option where &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;path&amp;gt;&lt;/code&gt; can be an absolute path to a
directory or directory symlink.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Care should be taken when choosing the wallets directory location, as if it
becomes unavailable during operation, funds may be lost.&lt;/p&gt;

&lt;h3 id=&quot;support-for-signalling-pruned-nodes-bip159&quot;&gt;Support for signalling pruned nodes (BIP159)&lt;/h3&gt;

&lt;p&gt;Pruned nodes can now signal BIP159’s NODE_NETWORK_LIMITED using service bits, in preparation for
full BIP159 support in later versions. This would allow pruned nodes to serve the most recent blocks. However, the current change does not yet include support for connecting to these pruned peers.&lt;/p&gt;

&lt;h3 id=&quot;performance-sha256-assembly-enabled-by-default&quot;&gt;Performance: SHA256 assembly enabled by default&lt;/h3&gt;

&lt;p&gt;The SHA256 hashing optimizations for architectures supporting SSE4, which lead to ~50% speedups in SHA256 on supported hardware (~5% faster synchronization and block validation), have now been enabled by default. In previous versions they were enabled using the &lt;code class=&quot;highlighter-rouge&quot;&gt;--enable-experimental-asm&lt;/code&gt; flag when building, but are now the default and no longer deemed experimental.&lt;/p&gt;

&lt;h3 id=&quot;gui-changes&quot;&gt;GUI changes&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Uses of “µBTC” in the GUI now also show the more colloquial term “bits”, specified in BIP176.&lt;/li&gt;
  &lt;li&gt;The option to reuse a previous address has now been removed. This was justified by the need to “resend” an invoice, but now that we have the request history, that need should be gone.&lt;/li&gt;
  &lt;li&gt;Support for searching by TXID has been added, rather than just address and label.&lt;/li&gt;
  &lt;li&gt;A “Use available balance” option has been added to the send coins dialog, to add the remaining available wallet balance to a transaction output.&lt;/li&gt;
  &lt;li&gt;A toggle for unblinding the password fields on the password dialog has been added.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;new-rescanblockchain-rpc&quot;&gt;New rescanblockchain RPC&lt;/h3&gt;

&lt;p&gt;A new RPC &lt;code class=&quot;highlighter-rouge&quot;&gt;rescanblockchain&lt;/code&gt; has been added to manually invoke a blockchain rescan.
The RPC supports start and end-height arguments for the rescan, and can be used in a
multiwallet environment to rescan the blockchain at runtime.&lt;/p&gt;

&lt;h3 id=&quot;new-savemempool-rpc&quot;&gt;New savemempool RPC&lt;/h3&gt;

&lt;p&gt;A new &lt;code class=&quot;highlighter-rouge&quot;&gt;savemempool&lt;/code&gt; RPC has been added which allows the current mempool to be saved to
disk at any time to avoid it being lost due to crashes / power loss.&lt;/p&gt;

&lt;h3 id=&quot;safe-mode-disabled-by-default&quot;&gt;Safe mode disabled by default&lt;/h3&gt;

&lt;p&gt;Safe mode is now disabled by default and must be manually enabled (with &lt;code class=&quot;highlighter-rouge&quot;&gt;-disablesafemode=0&lt;/code&gt;) if you wish to use it. Safe mode is a feature that disables a subset of RPC calls - mostly related to the wallet and sending - automatically in case certain problem conditions with the network are detected. However, developers have come to regard these checks as not reliable enough to act on automatically. Even with safe mode disabled, they will still cause warnings in the &lt;code class=&quot;highlighter-rouge&quot;&gt;warnings&lt;/code&gt; field of the &lt;code class=&quot;highlighter-rouge&quot;&gt;getneworkinfo&lt;/code&gt; RPC and launch the &lt;code class=&quot;highlighter-rouge&quot;&gt;-alertnotify&lt;/code&gt; command.&lt;/p&gt;

&lt;h3 id=&quot;renamed-script-for-creating-json-rpc-credentials&quot;&gt;Renamed script for creating JSON-RPC credentials&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;share/rpcuser/rpcuser.py&lt;/code&gt; script was renamed to &lt;code class=&quot;highlighter-rouge&quot;&gt;share/rpcauth/rpcauth.py&lt;/code&gt;. This script can be
used to create &lt;code class=&quot;highlighter-rouge&quot;&gt;rpcauth&lt;/code&gt; credentials for a JSON-RPC user.&lt;/p&gt;

&lt;h3 id=&quot;validateaddress-improvements&quot;&gt;Validateaddress improvements&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;validateaddress&lt;/code&gt; RPC output has been extended with a few new fields, and support for segwit addresses (both P2SH and Bech32). Specifically:
* A new field &lt;code class=&quot;highlighter-rouge&quot;&gt;iswitness&lt;/code&gt; is True for P2WPKH and P2WSH addresses (“bc1…” addresses), but not for P2SH-wrapped segwit addresses (see below).
* The existing field &lt;code class=&quot;highlighter-rouge&quot;&gt;isscript&lt;/code&gt; will now also report True for P2WSH addresses.
* A new field &lt;code class=&quot;highlighter-rouge&quot;&gt;embedded&lt;/code&gt; is present for all script addresses where the script is known and matches something that can be interpreted as a known address. This is particularly true for P2SH-P2WPKH and P2SH-P2WSH addresses. The value for &lt;code class=&quot;highlighter-rouge&quot;&gt;embedded&lt;/code&gt; includes much of the information &lt;code class=&quot;highlighter-rouge&quot;&gt;validateaddress&lt;/code&gt; would report if invoked directly on the embedded address.
* For multisig scripts a new &lt;code class=&quot;highlighter-rouge&quot;&gt;pubkeys&lt;/code&gt; field was added that reports the full public keys involved in the script (if known). This is a replacement for the existing &lt;code class=&quot;highlighter-rouge&quot;&gt;addresses&lt;/code&gt; field (which reports the same information but encoded as P2PKH addresses), represented in a more useful and less confusing way. The &lt;code class=&quot;highlighter-rouge&quot;&gt;addresses&lt;/code&gt; field remains present for non-segwit addresses for backward compatibility.
* For all single-key addresses with known key (even when wrapped in P2SH or P2WSH), the &lt;code class=&quot;highlighter-rouge&quot;&gt;pubkey&lt;/code&gt; field will be present. In particular, this means that invoking &lt;code class=&quot;highlighter-rouge&quot;&gt;validateaddress&lt;/code&gt; on the output of &lt;code class=&quot;highlighter-rouge&quot;&gt;getnewaddress&lt;/code&gt; will always report the &lt;code class=&quot;highlighter-rouge&quot;&gt;pubkey&lt;/code&gt;, even when the address type is P2SH-P2WPKH.&lt;/p&gt;

&lt;h3 id=&quot;low-level-changes&quot;&gt;Low-level changes&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;The deprecated RPC &lt;code class=&quot;highlighter-rouge&quot;&gt;getinfo&lt;/code&gt; was removed. It is recommended that the more specific RPCs are used:
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;getblockchaininfo&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;getnetworkinfo&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;getwalletinfo&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;getmininginfo&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;The wallet RPC &lt;code class=&quot;highlighter-rouge&quot;&gt;getreceivedbyaddress&lt;/code&gt; will return an error if called with an address not in the wallet.&lt;/li&gt;
  &lt;li&gt;The wallet RPC &lt;code class=&quot;highlighter-rouge&quot;&gt;addwitnessaddress&lt;/code&gt; was deprecated and will be removed in version 0.17,
set the &lt;code class=&quot;highlighter-rouge&quot;&gt;address_type&lt;/code&gt; argument of &lt;code class=&quot;highlighter-rouge&quot;&gt;getnewaddress&lt;/code&gt;, or option &lt;code class=&quot;highlighter-rouge&quot;&gt;-addresstype=[bech32|p2sh-segwit]&lt;/code&gt; instead.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;dumpwallet&lt;/code&gt; now includes hex-encoded scripts from the wallet in the dumpfile, and
&lt;code class=&quot;highlighter-rouge&quot;&gt;importwallet&lt;/code&gt; now imports these scripts, but corresponding addresses may not be added
correctly or a manual rescan may be required to find relevant transactions.&lt;/li&gt;
  &lt;li&gt;The RPC &lt;code class=&quot;highlighter-rouge&quot;&gt;getblockchaininfo&lt;/code&gt; now includes an &lt;code class=&quot;highlighter-rouge&quot;&gt;errors&lt;/code&gt; field.&lt;/li&gt;
  &lt;li&gt;A new &lt;code class=&quot;highlighter-rouge&quot;&gt;blockhash&lt;/code&gt; parameter has been added to the &lt;code class=&quot;highlighter-rouge&quot;&gt;getrawtransaction&lt;/code&gt; RPC which allows for a raw transaction to be fetched from a specific block if known, even without &lt;code class=&quot;highlighter-rouge&quot;&gt;-txindex&lt;/code&gt; enabled.&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;decoderawtransaction&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;fundrawtransaction&lt;/code&gt; RPCs now have optional &lt;code class=&quot;highlighter-rouge&quot;&gt;iswitness&lt;/code&gt; parameters to override the
heuristic witness checks if necessary.&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;walletpassphrase&lt;/code&gt; timeout is now clamped to 2^30 seconds.&lt;/li&gt;
  &lt;li&gt;Using addresses with the &lt;code class=&quot;highlighter-rouge&quot;&gt;createmultisig&lt;/code&gt; RPC is now deprecated, and will be removed in a later version. Public keys should be used instead.&lt;/li&gt;
  &lt;li&gt;Blockchain rescans now no longer lock the wallet for the entire rescan process, so other RPCs can now be used at the same time (although results of balances / transactions may be incorrect or incomplete until the rescan is complete).&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;logging&lt;/code&gt; RPC has now been made public rather than hidden.&lt;/li&gt;
  &lt;li&gt;An &lt;code class=&quot;highlighter-rouge&quot;&gt;initialblockdownload&lt;/code&gt; boolean has been added to the &lt;code class=&quot;highlighter-rouge&quot;&gt;getblockchaininfo&lt;/code&gt; RPC to indicate whether the node is currently in IBD or not.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;minrelaytxfee&lt;/code&gt; is now included in the output of &lt;code class=&quot;highlighter-rouge&quot;&gt;getmempoolinfo&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;other-changed-command-line-options&quot;&gt;Other changed command-line options&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-debuglogfile=&amp;lt;file&amp;gt;&lt;/code&gt; can be used to specify an alternative debug logging file.&lt;/li&gt;
  &lt;li&gt;bitcoin-cli now has an &lt;code class=&quot;highlighter-rouge&quot;&gt;-stdinrpcpass&lt;/code&gt; option to allow the RPC password to be read from standard input.&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;-usehd&lt;/code&gt; option has been removed.&lt;/li&gt;
  &lt;li&gt;bitcoin-cli now supports a new &lt;code class=&quot;highlighter-rouge&quot;&gt;-getinfo&lt;/code&gt; flag which returns an output like that of the now-removed &lt;code class=&quot;highlighter-rouge&quot;&gt;getinfo&lt;/code&gt; RPC.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;testing-changes&quot;&gt;Testing changes&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;The default regtest JSON-RPC port has been changed to 18443 to avoid conflict with testnet’s default of 18332.&lt;/li&gt;
  &lt;li&gt;Segwit is now always active in regtest mode by default. Thus, if you upgrade a regtest node you will need to either -reindex or use the old rules by adding &lt;code class=&quot;highlighter-rouge&quot;&gt;vbparams=segwit:0:999999999999&lt;/code&gt; to your regtest bitcoin.conf. Failure to do this will result in a CheckBlockIndex() assertion failure that will look like: Assertion `(pindexFirstNeverProcessed != nullptr) == (pindex-&amp;gt;nChainTx == 0)’ failed.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;f51392e0cbf7940627944602a64890ed65cf44838fc4795d493cf12aafe37012  bitcoin-0.16.0-aarch64-linux-gnu.tar.gz
59f95da96f40b3a9acfeda9085e6389f2075ee40ef1fe7f023031f86c946c3ea  bitcoin-0.16.0-arm-linux-gnueabihf.tar.gz
d7c173e2921e39df3631b7cd652ae7330c2735b0b221f9dc8f7c899887b4fb59  bitcoin-0.16.0-i686-pc-linux-gnu.tar.gz
ade85a8e39de8c36a134721c3da9853a80f29a8625048e0c2a5295ca8b23a88c  bitcoin-0.16.0-osx64.tar.gz
df0036bae9f40536095908c9944ed66c0946f178ae8ef07639caf25a390b2ee7  bitcoin-0.16.0-osx.dmg
8cbec0397d932cab7297a8c23c918392f6eebd410646b4b954787de9f4a3ee40  bitcoin-0.16.0.tar.gz
7558249b04527d7d0bf2663f9cfe76d6c5f83ae90e513241f94fda6151396a29  bitcoin-0.16.0-win32-setup.exe
60d65d6e57f42164e1c04bb5bb65156d87f0433825a1c1f1f5f6aebf5c8df424  bitcoin-0.16.0-win32.zip
6d93ba3b9c3e34f74ccfaeacc79f968755ba0da1e2d75ce654cf276feb2aa16d  bitcoin-0.16.0-win64-setup.exe
42706da1a95b2db8c5808529f73c2063a0dd770f71e0c8506bfa86dc0f3403ef  bitcoin-0.16.0-win64.zip
e6322c69bcc974a29e6a715e0ecb8799d2d21691d683eeb8fef65fc5f6a66477  bitcoin-0.16.0-x86_64-linux-gnu.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2018/02/26/release-0.16.0/&quot;&gt;Bitcoin Core 0.16.0 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on February 26, 2018.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.15.1 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/11/11/release-0.15.1/" />
        <id>en-blog-release-0.15.1</id>
        <published>2017-11-11T00:00:00+07:00</published>
        <updated>2017-11-11T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/11/11/release-0.15.1/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#notable-changes&quot; id=&quot;markdown-toc-notable-changes&quot;&gt;Notable changes&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#network-fork-safety-enhancements&quot; id=&quot;markdown-toc-network-fork-safety-enhancements&quot;&gt;Network fork safety enhancements&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#rpc-changes&quot; id=&quot;markdown-toc-rpc-changes&quot;&gt;RPC changes&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#miner-block-size-limiting-deprecated&quot; id=&quot;markdown-toc-miner-block-size-limiting-deprecated&quot;&gt;Miner block size limiting deprecated&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#gui-settings-backed-up-on-reset&quot; id=&quot;markdown-toc-gui-settings-backed-up-on-reset&quot;&gt;GUI settings backed up on reset&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#duplicate-wallets-disallowed&quot; id=&quot;markdown-toc-duplicate-wallets-disallowed&quot;&gt;Duplicate wallets disallowed&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#debug--minimumchainwork-argument-added&quot; id=&quot;markdown-toc-debug--minimumchainwork-argument-added&quot;&gt;Debug &lt;code class=&quot;highlighter-rouge&quot;&gt;-minimumchainwork&lt;/code&gt; argument added&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot; id=&quot;markdown-toc-conclusion&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hashes-for-verification&quot; id=&quot;markdown-toc-hashes-for-verification&quot;&gt;Hashes for verification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;We are pleased to announce the release of Bitcoin Core 0.15.1.&lt;/p&gt;

&lt;p&gt;This release focuses on the safety of the P2P network as a precaution against potential future network forks, as well as bringing bug fixes, optimisations and improvements to the 0.15.x series.&lt;/p&gt;

&lt;h2 id=&quot;notable-changes&quot;&gt;Notable changes&lt;/h2&gt;

&lt;h3 id=&quot;network-fork-safety-enhancements&quot;&gt;Network fork safety enhancements&lt;/h3&gt;

&lt;p&gt;A number of changes to the way Bitcoin Core deals with peer connections and invalid blocks
have been made, as a safety precaution against blockchain forks and misbehaving peers.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Unrequested blocks with less work than the minimum-chain-work are now no longer processed even
if they have more work than the tip (a potential issue during IBD where the tip may have low-work).
This prevents peers wasting the resources of a node.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Peers which provide a chain with less work than the minimum-chain-work during IBD will now be disconnected.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;For a given outbound peer, we now check whether their best known block has at least as much work as our tip. If it
doesn’t, and if we still haven’t heard about a block with sufficient work after a 20 minute timeout, then we send
a single getheaders message, and wait 2 more minutes. If after two minutes their best known block has insufficient
work, we disconnect that peer. We protect 4 of our outbound peers from being disconnected by this logic to prevent
excessive network topology changes as a result of this algorithm, while still ensuring that we have a reasonable
number of nodes not known to be on bogus chains.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Outbound (non-manual) peers that serve us block headers that are already known to be invalid (other than compact
block announcements, because BIP 152 explicitly permits nodes to relay compact blocks before fully validating them)
will now be disconnected.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If the chain tip has not been advanced for over 30 minutes, we now assume the tip may be stale and will try to connect
to an additional outbound peer. A periodic check ensures that if this extra peer connection is in use, we will disconnect
the peer that least recently announced a new block.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The set of all known invalid-themselves blocks (i.e. blocks which we attempted to connect but which were found to be
invalid) are now tracked and used to check if new headers build on an invalid chain. This ensures that everything that
descends from an invalid block is marked as such.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;rpc-changes&quot;&gt;RPC changes&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;currentblocksize&lt;/code&gt; value in &lt;code class=&quot;highlighter-rouge&quot;&gt;getmininginfo&lt;/code&gt; has been removed.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;dumpwallet&lt;/code&gt; no longer allows overwriting files. This is a security measure as well as prevents dangerous user mistakes.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;backupwallet&lt;/code&gt; will now fail when attempting to backup to source file, rather than destroying the wallet.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;listsinceblock&lt;/code&gt; will now throw an error if an unknown &lt;code class=&quot;highlighter-rouge&quot;&gt;blockhash&lt;/code&gt; argument value is passed, instead of returning a list
of all wallet transactions since the genesis block. The behaviour is unchanged when an empty string is provided.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;miner-block-size-limiting-deprecated&quot;&gt;Miner block size limiting deprecated&lt;/h3&gt;

&lt;p&gt;Though blockmaxweight has been preferred for limiting the size of blocks returned by
getblocktemplate since 0.13.0, blockmaxsize remained as an option for those who wished
to limit their block size directly. Using this option resulted in a few UI issues as
well as non-optimal fee selection and ever-so-slightly worse performance, and has thus
now been deprecated. Further, the blockmaxsize option is now used only to calculate an
implied blockmaxweight, instead of limiting block size directly. Any miners who wish
to limit their blocks by size, instead of by weight, will have to do so manually by
removing transactions from their block template directly.&lt;/p&gt;

&lt;h3 id=&quot;gui-settings-backed-up-on-reset&quot;&gt;GUI settings backed up on reset&lt;/h3&gt;

&lt;p&gt;The GUI settings will now be written to &lt;code class=&quot;highlighter-rouge&quot;&gt;guisettings.ini.bak&lt;/code&gt; in the data directory before wiping them when
the &lt;code class=&quot;highlighter-rouge&quot;&gt;-resetguisettings&lt;/code&gt; argument is used. This can be used to retroactively troubleshoot issues due to the
GUI settings.&lt;/p&gt;

&lt;h3 id=&quot;duplicate-wallets-disallowed&quot;&gt;Duplicate wallets disallowed&lt;/h3&gt;

&lt;p&gt;Previously, it was possible to open the same wallet twice by manually copying the wallet file, causing
issues when both were opened simultaneously. It is no longer possible to open copies of the same wallet.&lt;/p&gt;

&lt;h3 id=&quot;debug--minimumchainwork-argument-added&quot;&gt;Debug &lt;code class=&quot;highlighter-rouge&quot;&gt;-minimumchainwork&lt;/code&gt; argument added&lt;/h3&gt;

&lt;p&gt;A hidden debug argument &lt;code class=&quot;highlighter-rouge&quot;&gt;-minimumchainwork&lt;/code&gt; has been added to allow a custom minimum work value to be used
when validating a chain.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Please see the &lt;a href=&quot;/en/releases/0.15.1/&quot;&gt;release notes&lt;/a&gt; for details.  To download, please visit
the &lt;a href=&quot;/en/download&quot;&gt;download page&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If have any questions, please stop by either our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC&lt;/a&gt; or &lt;a href=&quot;https://slack.bitcoincore.org/&quot;&gt;Slack&lt;/a&gt;
chatrooms and we’ll do our best to help you.&lt;/p&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;d64d2e27cad78bbd2a0268bdaa9efa3f1eca670a4fab462b5e851699c780e3a0  bitcoin-0.15.1-aarch64-linux-gnu.tar.gz
ceba092c9a390082ff184c8d82a24bc34d7f9b421dc5c1e6847fcf769541f305  bitcoin-0.15.1-arm-linux-gnueabihf.tar.gz
231e4c9f5cf4ba977dbaf118bf38b0fde4d50ab7b9efd65bee6647fb14035a2c  bitcoin-0.15.1-i686-pc-linux-gnu.tar.gz
b6771c5d67fb6b9c4882cc351e579470a008211d76407155e544b28b00fcd711  bitcoin-0.15.1-osx64.tar.gz
0ce5ca1ba424603526d8a40d9321f1f735797a7205a7fbbe39561c078f2a0858  bitcoin-0.15.1-osx.dmg
34de2dbe058c1f8b6464494468ebe2ff0422614203d292da1c6458d6f87342b4  bitcoin-0.15.1.tar.gz
cc7a31d8fece1462955bddef87945420721e42cfe6af589a36547b0940851765  bitcoin-0.15.1-win32-setup.exe
4d2ad1371df1904367955d3f250212d0edd9f338c26d5cd60d7d8ce3f1733f5a  bitcoin-0.15.1-win32.zip
905a5999fb52b083d7e3bedb2dc6704ca641823f81865db58a55a6a20b454d8c  bitcoin-0.15.1-win64-setup.exe
b858521496c0d7699a6916c20767cdb123eb39be70ffc544d6876b08af3b696a  bitcoin-0.15.1-win64.zip
387c2e12c67250892b0814f26a5a38f837ca8ab68c86af517f975a2a2710225b  bitcoin-0.15.1-x86_64-linux-gnu.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/11/11/release-0.15.1/&quot;&gt;Bitcoin Core 0.15.1 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on November 11, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.15.0.1 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/10/02/release-0.15.0.1/" />
        <id>en-blog-release-0.15.0.1</id>
        <published>2017-10-02T00:00:00+07:00</published>
        <updated>2017-10-02T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/10/02/release-0.15.0.1/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#hashes-for-verification&quot; id=&quot;markdown-toc-hashes-for-verification&quot;&gt;Hashes for verification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;Bitcoin Core 0.15.0.1 has been released with a fix for a minor bug in 0.15.0,
which caused the GUI client to crash for some users after upgrading to 0.15.0.&lt;/p&gt;

&lt;p&gt;After upgrade to 0.15.0, some clients would crash at startup because a custom
fee setting was configured that no longer exists in the GUI. This is a minimal
patch to avoid this issue from occurring.&lt;/p&gt;

&lt;p&gt;Please see the &lt;a href=&quot;/en/releases/0.15.0.1/&quot;&gt;release notes&lt;/a&gt; for details.  To download, please visit
the &lt;a href=&quot;/en/download&quot;&gt;download page&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If have any questions, please stop by either our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC&lt;/a&gt; or &lt;a href=&quot;https://slack.bitcoincore.org/&quot;&gt;Slack&lt;/a&gt;
chatrooms and we’ll do our best to help you.&lt;/p&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;b1ac0cd472f98040fbce9cea79348da2c6140a452427f9fe56d060413ec67f2d  bitcoin-0.15.0.1-aarch64-linux-gnu.tar.gz
7fb2290464ff056213593878cac1d111422204e81b1ccb93f95b145c309895c5  bitcoin-0.15.0.1-arm-linux-gnueabihf.tar.gz
061bdd552fdc048a98e04ab436165b121346ecd989e1bc91db0246888fcadf7d  bitcoin-0.15.0.1-i686-pc-linux-gnu.tar.gz
23a36e28295ef05faf67d41be0610d5f5f1059d904aa74efca7a6700a82d6dc2  bitcoin-0.15.0.1-osx64.tar.gz
9f90a5b5623287b762e3280fd86fc7adc7180a071513d5d663133f030452b1dd  bitcoin-0.15.0.1-osx.dmg
b57e9e756018e4082f5557a4216195b0cd197c5a62473b6fe0509a0aa71e519b  bitcoin-0.15.0.1.tar.gz
f3e7ef9ac9d510a185efb0f0253dc1f49d627768999a66f13e86de4c38854680  bitcoin-0.15.0.1-win32-setup.exe
49578a464d043f278805b145cd8f59b115e6f41cd56de0a90049da1781df9d59  bitcoin-0.15.0.1-win32.zip
f0aebade2b43e253ad66fd920e00524048f5a9b9933936e735844d316433791a  bitcoin-0.15.0.1-win64-setup.exe
25efad99a4128d9f197d7eb1c175e7597478ae39e3d05805f14e9c01392b41ae  bitcoin-0.15.0.1-win64.zip
ae3efa47bf87a694a5368cd6fea96c9942fe9be7856720b5027c8902e46a88d1  bitcoin-0.15.0.1-x86_64-linux-gnu.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/10/02/release-0.15.0.1/&quot;&gt;Bitcoin Core 0.15.0.1 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on October 02, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.15.0 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/09/01/release-0.15.0/" />
        <id>en-blog-release-0.15.0</id>
        <published>2017-09-14T00:00:00+07:00</published>
        <updated>2017-09-14T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/09/01/release-0.15.0/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#upgrade-notice&quot; id=&quot;markdown-toc-upgrade-notice&quot;&gt;Upgrade notice&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#better-fee-estimates&quot; id=&quot;markdown-toc-better-fee-estimates&quot;&gt;Better fee estimates&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#graphical-fee-bumping&quot; id=&quot;markdown-toc-graphical-fee-bumping&quot;&gt;Graphical fee bumping&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#multiwallet&quot; id=&quot;markdown-toc-multiwallet&quot;&gt;Multiwallet&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#performance-improvements&quot; id=&quot;markdown-toc-performance-improvements&quot;&gt;Performance improvements&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#the-future-p2sh-wrapped-segwit-addresses&quot; id=&quot;markdown-toc-the-future-p2sh-wrapped-segwit-addresses&quot;&gt;The future: P2SH-wrapped segwit addresses&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot; id=&quot;markdown-toc-conclusion&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hashes-for-verification&quot; id=&quot;markdown-toc-hashes-for-verification&quot;&gt;Hashes for verification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;We are pleased to announce the release of Bitcoin Core 0.15.0, which provides &lt;a href=&quot;#better-fee-estimates&quot;&gt;better fee estimates&lt;/a&gt; and more accessible &lt;a href=&quot;#graphical-fee-bumping&quot;&gt;fee bumping&lt;/a&gt;, initial support for &lt;a href=&quot;#multiwallet&quot;&gt;multiple wallets&lt;/a&gt; in a single installation, and a number of significant &lt;a href=&quot;#performance-improvements&quot;&gt;performance improvements&lt;/a&gt;.  Many bug fixes, optimizations, and other improvements are also included.&lt;/p&gt;

&lt;h2 id=&quot;upgrade-notice&quot;&gt;Upgrade notice&lt;/h2&gt;

&lt;p&gt;One of the performance optimizations in Bitcoin Core 0.15.0 is an update to the format of the database that tracks spendable bitcoins.  The first time you start Bitcoin Core 0.15.0 (or a later version), it will automatically begin this update, which will take from about 5 minutes to 30 minutes depending on the speed of your computer.&lt;/p&gt;

&lt;p&gt;Graphical users can monitor the progress of the update on the Bitcoin Core splash screen; bitcoind users can monitor it in the &lt;code class=&quot;highlighter-rouge&quot;&gt;debug.log&lt;/code&gt; file in their &lt;a href=&quot;https://en.bitcoin.it/wiki/Data_directory&quot;&gt;data directory&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you later decide to downgrade to an earlier version of Bitcoin Core, please see the &lt;a href=&quot;/en/releases/0.15.0/&quot;&gt;instructions&lt;/a&gt; in the release notes.&lt;/p&gt;

&lt;h2 id=&quot;better-fee-estimates&quot;&gt;Better fee estimates&lt;/h2&gt;

&lt;p&gt;Evidence shows that users who are willing to wait just a few hours for their transactions to confirm can often save 80% or more in transaction fees over users who need rapid confirmation during periods of high demand.&lt;/p&gt;

&lt;p&gt;Not only do these patient users save money, but they also help ensure Bitcoin miners always have plenty of fee-paying transactions to include in their blocks, which will be necessary to keep miners working on extending the Bitcoin block chain in the future as Bitcoin gets closer to the upper limit of 21 million bitcoins and transaction fees increasingly make up a greater share of miner income.&lt;/p&gt;

&lt;p&gt;To help patient users get the best deal on transaction fees and rushed users get their transactions confirmed as quickly as possible, we’ve made several significant improvements to the built-in fee estimation algorithm and user interface in Bitcoin Core 0.15.0.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;40x increase in maximum targets:&lt;/strong&gt; the fee estimator can now provide reasonable estimates up to 1,008 blocks into the future (about 1 week), up from a previous maximum of 25 blocks (about 4 hours), allowing users making safe transfers between their own wallets and other non-urgent tasks to save as much as possible on transactions fees.&lt;/p&gt;

    &lt;p&gt;In order to expose this new increased range in the graphical user interface, the previous fee slider has been replaced by a fee dropdown:&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/assets/images/releases/fee-selector.png&quot; alt=&quot;New fee drop-down box&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;More responsive:&lt;/strong&gt; fee estimates now adjust faster to changing network conditions of higher or lower demand for block space.  The algorithm makes multiple extrapolations of the transaction data and selects the best one automatically.  For more information about the algorithm used, please see developer Alex Morcos’s &lt;a href=&quot;https://gist.github.com/morcos/d3637f015bc4e607e1fd10d8351e9f41&quot;&gt;description&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Lower fee estimates for RBF users:&lt;/strong&gt; previously it was difficult to change the fee of unconfirmed transactions after broadcasting them, so Bitcoin Core suggested fees higher than normally needed.  As described later in this post, Bitcoin Core now provides tools for increasing the fee of already-sent unconfirmed transactions, so we give lower fee estimates to users of those tools since they can always increase their fee later if necessary.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Programmers and command-line users automatically receive access to the improved fee estimation through their current RPC calls and can also use the new &lt;code class=&quot;highlighter-rouge&quot;&gt;estimatesmartfee&lt;/code&gt; RPC to get access to the advanced features described above.  Note that the older &lt;code class=&quot;highlighter-rouge&quot;&gt;estimatefee&lt;/code&gt; RPC continues to work, but is now deprecated and will be removed in a subsequent release.  For more information, run &lt;code class=&quot;highlighter-rouge&quot;&gt;bitcoin-cli help estimatesmartfee&lt;/code&gt; and see the &lt;a href=&quot;/en/releases/0.15.0/&quot;&gt;release notes&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;graphical-fee-bumping&quot;&gt;Graphical fee bumping&lt;/h2&gt;

&lt;p&gt;Bitcoin Core 0.14.0 introduced expert options to allow users to increase the amount of transaction fee they paid on their unconfirmed transactions, a process often called &lt;em&gt;fee bumping.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;This can allow frugal users to pay a very low transaction fee, wait a while to see if the transaction confirms at that fee, and then increase the fee if it hasn’t been included in any of the recent blocks.  It also helps ensure that any user who accidentally pays too low a fee can later increase that fee to get the transaction confirmed.&lt;/p&gt;

&lt;p&gt;In Bitcoin Core 0.15.0, this option is no longer just for experts.  In the the fee options when sending a transaction using the graphical interface, users can now choose to “Request Replace-By-Fee”, allowing them to replace one version of an unconfirmed transaction with a later version that pays a higher fee.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/releases/rbf-checkbox.png&quot; alt=&quot;Screenshot of replace-by-fee checkbox&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If users enable this feature on a transaction, they can later go to the Transactions tab, right-click on the transaction, and select the “Increase transaction fee” option.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/releases/fee-bump-menu.png&quot; alt=&quot;Screenshot of &amp;quot;increase transaction fee&amp;quot; option on menu&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Both the original transaction and the replacement will be shown in the Transaction tab so you can see which one gets confirmed (it isn’t guaranteed that the higher-fee transaction will be confirmed, but it is guaranteed that only one of the transactions can be confirmed).  Once one version of the transaction is confirmed, all other versions of the same transaction will be shown as failed.&lt;/p&gt;

&lt;p&gt;You can repeat the fee bumping step as many times as you’d like until one version of the transaction confirms, and no matter how many replacements you create, only one version of the transaction will be confirmed.&lt;/p&gt;

&lt;p&gt;Users who want to request Replace-By-Fee (RBF) by default can start Bitcoin Core with the &lt;code class=&quot;highlighter-rouge&quot;&gt;-walletrbf&lt;/code&gt; option or add &lt;code class=&quot;highlighter-rouge&quot;&gt;walletrbf=1&lt;/code&gt; to their &lt;a href=&quot;https://bitcoin.stackexchange.com/a/11210&quot;&gt;configuration file&lt;/a&gt;.  Note that some services that accept unconfirmed transactions as finalized payments may not accept replace-by-fee transactions as final until they confirm; for more information about opt-in replace by fee, please see the &lt;a href=&quot;/en/faq/optin_rbf/&quot;&gt;RBF FAQ&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;multiwallet&quot;&gt;Multiwallet&lt;/h2&gt;

&lt;p&gt;In Bitcoin Core 0.15.0, a single running Bitcoin Core program can now manage multiple wallets with ease.  This feature is still new and only accessible to expert users, but we hope to make it available in the graphical user interface in the future.&lt;/p&gt;

&lt;p&gt;You can use the new multiwallet mode to,&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Use one wallet for your business and one wallet for your personal use in order to simplify your accounting and prevent accidental misuse of funds.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Separate bitcoins that are associated with your identity from bitcoins that can’t be traced back to you in order to help protect your privacy.  Each wallet uses completely different private keys and will never automatically mix its bitcoins with bitcoins from another wallet, preventing taint analysis from connecting those two wallets.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Manage a Bitcoin backend for an organization in much the same way that has been historically possible with the now-deprecated Bitcoin Core accounts features.  As a simple example, if you handle small bitcoin balances for your less-experienced friends and family, you can now manage each person’s bitcoins in a separate wallet rather than risking mixing them up with your own bitcoins.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These features are currently only available through the RPC interface for programmers and command-line users, and the API for them may change in future versions.  Please see the bottom of this post for information about how to contribute to development if you’d like to help improve multiwallet mode and make it available in the graphical interface.  For more information about multiwallet mode, please see the &lt;a href=&quot;/en/releases/0.15.0/&quot;&gt;release notes&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;performance-improvements&quot;&gt;Performance improvements&lt;/h2&gt;

&lt;p&gt;As part of the continuing effort to make full nodes available to as many users as possible even as the block chain continues to grow in size and complexity, Bitcoin Core 0.15.0 includes several significant performance improvements.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;30% to 40% faster block validation and 10% to 20% less memory used&lt;/strong&gt; on tests of Initial Block Download (IBD), with far fewer writes to disk.  This is the result of simplifying the format of the the chainstate database that tracks each spendable group of bitcoins and what information the owner of those bitcoins needs to provide in order to spend them.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;40% to 50% faster validation of blocks consisting of previously-seen transactions&lt;/strong&gt; as the result of repeating fewer validation steps when a previously-verified mempool transaction is later received in a block.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Moderate performance gains on some platforms&lt;/strong&gt; as the result of using hardware acceleration for some operations, such as support on modern computer processors for the consistency-checking operation used by the chainstate database.  This mainly benefits users of 64-bit Intel and AMD processors produced in 2008 or later.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;More information on each of these improvements may be found in the &lt;a href=&quot;/en/releases/0.15.0/&quot;&gt;release notes&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;the-future-p2sh-wrapped-segwit-addresses&quot;&gt;The future: P2SH-wrapped segwit addresses&lt;/h2&gt;

&lt;p&gt;As final preparations are being made to release Bitcoin Core 0.15.0, segregated witness has activated on the Bitcoin network and is now ready to use.&lt;/p&gt;

&lt;p&gt;Bitcoin Core has supported creating segwit addresses since 0.13.0, but this support was designed for testing has only been available to expert users—we were waiting to see if segwit was adopted before adding segwit support to the regular user interfaces, both graphical and RPC.&lt;/p&gt;

&lt;p&gt;The timing of segwit lock in and activation meant that we had to choose between either delaying the planned release of 0.15.0 and all its features described above or shipping 0.15.0 without a user interface defaulting to segwit.&lt;/p&gt;

&lt;p&gt;We decided to take the later option, but we’re also not going to wait the normal six months before the next major update.  Instead, our next feature release will generate segwit-compatible addresses by default.  This will be made available as soon as it has been written and thoroughly tested.&lt;/p&gt;

&lt;p&gt;For those of you interested in technical details, our plan is to use P2SH-wrapped segwit addresses that are compatible with nearly all other wallets on the network.  We may support sending to Bech32 native segwit addresses generated by other wallets, but the graphical user interface will probably not support generating Bech32 addresses itself until a subsequent release.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;For details on all the changes made in Bitcoin Core 0.15.0, please read the &lt;a href=&quot;/en/releases/0.15.0/&quot;&gt;release notes&lt;/a&gt;. To download, please visit the &lt;a href=&quot;/en/download&quot;&gt;download page&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you are interested in contributing to Bitcoin Core, please see our &lt;a href=&quot;/en/contribute&quot;&gt;contributing page&lt;/a&gt; and the document &lt;a href=&quot;/en/faq/contributing-code/&quot;&gt;How to contribute code to Bitcoin Core&lt;/a&gt;. If you don’t know where to get started or have any other questions, please stop by either our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC&lt;/a&gt; or &lt;a href=&quot;https://slack.bitcoincore.org/&quot;&gt;Slack&lt;/a&gt; chatrooms and we’ll do our best to help you.&lt;/p&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;ec5e93ebc747d3d50b6c3bc33ac840348820b0e681de734999ebc4e671803a8e  bitcoin-0.15.0-aarch64-linux-gnu.tar.gz
ec6b9e0ea467f82f2f9938f8577fb41cb7c2998b027709f78b8aff02afc983a9  bitcoin-0.15.0-arm-linux-gnueabihf.tar.gz
75de087adf888f15faa4d8a65ea18dee75150ee761b0d6bcaefc7770230e1e66  bitcoin-0.15.0-i686-pc-linux-gnu.tar.gz
dd444b4e55ef8ef070c9f93f56a1ad028ea4d99205f6c3d4d631550f48937c05  bitcoin-0.15.0-osx64.tar.gz
973967c7722c9431b7bdb592981831e320fc6f67c4d10d3c3f27c0a251cab6d6  bitcoin-0.15.0-osx.dmg
54b6f54982da97f294d21ad69c6b8624f2cf40d157be0683123b2ba6db2bf2a1  bitcoin-0.15.0.tar.gz
c35f048c9e62335bba031db91bb36b7c11d9292c89c21af219f63eac1d090c34  bitcoin-0.15.0-win32-setup.exe
b7bb50796b79b18c97c15b90368962a275057d234ac674407e47148e73968497  bitcoin-0.15.0-win32.zip
94d0626426810db85b342dbf801681752e474ff0aff726783cb5297b70999a45  bitcoin-0.15.0-win64-setup.exe
d1686db57c59136c758db1536eaf1bb0b9a08c6a0fd21f54d39ee6a7b6bd39d8  bitcoin-0.15.0-win64.zip
ed57f268d8b5ea5acfcb0666e801cf557a444720d8aed5e812071ab2e2913342  bitcoin-0.15.0-x86_64-linux-gnu.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/09/01/release-0.15.0/&quot;&gt;Bitcoin Core 0.15.0 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on September 14, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Correcting misinformation on Segwit2x and btc1]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/08/18/btc1-misleading-statements/" />
        <id>en-btc1-misleading-statements</id>
        <published>2017-08-18T00:00:00+07:00</published>
        <updated>2017-08-18T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/08/18/btc1-misleading-statements/</uri>
            
        </author>
        <content type="html">
            &lt;p&gt;“Segwit2x”, a proposal for an incompatible change to the consensus rules of the Bitcoin network, has received increased exposure recently. There have been attempts to mislead people into believing that the btc1 project, the implementation of the Segwit2x proposal, is a necessary update to existing software—it is not. Instead, it is a contentious deviation from the existing network rules, and its users will soon find themselves disagreeing with the rest of the network about the validity of blocks and transactions.&lt;/p&gt;

&lt;p&gt;Please be aware that:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Segregated Witness (or Segwit, a soft fork which will be active within the coming days) is not related to the Segwit2x hard fork. Segregated Witness is backwards compatible with all previous Bitcoin software. For the vast majority of Bitcoin users, no action is required.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org&quot;&gt;bitcoincore.org&lt;/a&gt; is the official website and &lt;a href=&quot;https://twitter.com/bitcoincoreorg&quot;&gt;@bitcoincoreorg&lt;/a&gt; is the official Twitter account of the Bitcoin Core project. Any other websites or Twitter accounts claiming to represent the project are fraudulent. Bitcoin Core is an open source project that welcomes contributions and review from anyone through its GitHub project. Bitcoin Core binaries can be obtained from &lt;a href=&quot;/en/download&quot;&gt;bitcoincore.org&lt;/a&gt; and are always digitally signed by the release manager’s signing key. The latest version of Bitcoin Core at the time of writing is 0.14.2.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;btc1 is &lt;em&gt;not&lt;/em&gt; connected to Bitcoin Core in any way. No regular Bitcoin Core contributors support btc1 or have any connection to the project, nor were any involved in the design of its proposed hard fork.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;We strongly advise users not to download any Bitcoin full-node software claiming to be an ‘upgrade’ to Bitcoin’s consensus rules without carefully considering the impact of the proposed changes on the Bitcoin system and the level of community support for it. This includes proposed consensus changes in new releases of Bitcoin Core.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;While it is difficult to determine what the broader Bitcoin community supports, be wary of claims suggesting the large and diverse Bitcoin community is moving entirely to one fork or another, without independent verification. Sign-on letters have been used by companies claiming to represent their clients/users without their agreement, and have often used imprecise and misleading language. In the past, letters for Bitcoin XT, Bitcoin Classic, and Bitcoin Unlimited, as well as others, have been circulated to indicate general support of an idea, while being trumpeted as commitments to run software irrespective of community considerations, only to be dropped some months later.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Concerns raised by Bitcoin Core contributors and Bitcoin community members about the Segwit2x proposal have not been adequately addressed by its proponents. The details of the proposal were established before Bitcoin’s Segregated Witness activation, and before the recent creation of the BCH currency. It is irresponsible to ignore the outcome of these events when planning for the future. As an example, we’ve seen the confusion that arises when a single address is valid across two chains, yet the Segwit2x proposal intends to repeat the same mistake. Furthermore, BCH’s implementation of strong replay protection provided significant protection to users of both BCH, as well as Bitcoin, something Segwit2x does not plan on providing.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Bitcoin’s consensus rules should only be changed sparingly and with broad agreement from the entire community. Segwit2x, in both its process and implementation, has been opposed by many. Bitcoin Core will continue to support the Segwit soft fork and we look forward to helping Bitcoin scale to new heights over the coming years.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/08/18/btc1-misleading-statements/&quot;&gt;Correcting misinformation on Segwit2x and btc1&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on August 18, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.14.2 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/06/17/release-0.14.2/" />
        <id>en-blog-release-0.14.2</id>
        <published>2017-06-17T00:00:00+07:00</published>
        <updated>2017-06-17T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/06/17/release-0.14.2/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#hashes-for-verification&quot; id=&quot;markdown-toc-hashes-for-verification&quot;&gt;Hashes for verification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;Bitcoin Core 0.14.2 has been released with a security fix for
users who manually enable the UPnP option.  Please note: UPnP has been
disabled by default since &lt;a href=&quot;https://bitcoin.org/en/release/v0.10.3#fix-buffer-overflow-in-bundled-upnp&quot;&gt;Bitcoin Core 0.10.3&lt;/a&gt;; you only need this
fix if you start Bitcoin Core with the &lt;code class=&quot;highlighter-rouge&quot;&gt;-upnp&lt;/code&gt; option on the command
line or in your configuration file.&lt;/p&gt;

&lt;p&gt;If you use &lt;code class=&quot;highlighter-rouge&quot;&gt;-upnp&lt;/code&gt;, it is recommended that you upgrade to Bitcoin Core
0.14.2 as soon as possible.  The security issue (&lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2017-8798&quot;&gt;miniupnp
CVE-2017-8798&lt;/a&gt;) allows remote attackers (within the Local Area
Network, LAN) to cause a denial of service or possibly have unspecified
other impact.&lt;/p&gt;

&lt;p&gt;This release also includes a few other bug fixes, all minor.  Please see
the &lt;a href=&quot;/en/releases/0.14.2/&quot;&gt;release notes&lt;/a&gt; for details.  To download, please visit the
&lt;a href=&quot;https://bitcoin.org/en/download&quot;&gt;download page&lt;/a&gt; or the &lt;a href=&quot;https://bitcoin.org/bin/bitcoin-core-0.14.2/&quot;&gt;files directory&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If have any questions, please stop by either our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC&lt;/a&gt; or &lt;a href=&quot;https://slack.bitcoincore.org/&quot;&gt;Slack&lt;/a&gt;
chatrooms and we’ll do our best to help you.&lt;/p&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;dd877bc247efa4c90a34ec9ce1a497a8ae1f7eac4c688aa8c8b25ffe30c20541  bitcoin-0.14.2-aarch64-linux-gnu.tar.gz
f273eb5e56694fe5baecdd5ee8cda9ac495541ccd9df5ca1c22a1b10dc6d89e8  bitcoin-0.14.2-arm-linux-gnueabihf.tar.gz
1a302092d9af75db93e2d87a9da6f1f2564a209fb8ee1d7f64ca1d2828f31c03  bitcoin-0.14.2-i686-pc-linux-gnu.tar.gz
a4e98906b4fa08727cbd81371a108ed7a19ea34bb421b078e64843560490a78d  bitcoin-0.14.2-osx64.tar.gz
463277b9139e890a713034b539583a0879bdcf0fc94c3c1fc08bb8aab81bb108  bitcoin-0.14.2-osx.dmg
1ac4e5ce51ac03c41df0ad1e759dbb55d91e1456b9a616e43344bf2258dbe8ca  bitcoin-0.14.2.tar.gz
522bf19ff2ac1a3f100194914071cf6d1a15076268c5c847b2f891277f427af6  bitcoin-0.14.2-win32-setup.exe
b3b0cc67a9a602fee4a270efc154f4422e1e49e2aefd9b0d44b0c601a326b05a  bitcoin-0.14.2-win32.zip
3a0057e4d6ca172566a93192234ef28916cbb052db9e15997569d9c08502c49a  bitcoin-0.14.2-win64-setup.exe
8a2a5657a8b3243ab4f549bb4b16c8c34b47acfb5c6bc07eb0b875ee71a3ad5b  bitcoin-0.14.2-win64.zip
20acc6d5d5e0c4140387bc3445b8b3244d74c1c509bd98f62b4ee63bec31a92b  bitcoin-0.14.2-x86_64-linux-gnu.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/06/17/release-0.14.2/&quot;&gt;Bitcoin Core 0.14.2 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on June 17, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.14.1 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/04/22/release-0.14.1/" />
        <id>en-blog-release-0.14.1</id>
        <published>2017-04-22T00:00:00+07:00</published>
        <updated>2017-04-22T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/04/22/release-0.14.1/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#notable-changes&quot; id=&quot;markdown-toc-notable-changes&quot;&gt;Notable changes&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#rpc-changes&quot; id=&quot;markdown-toc-rpc-changes&quot;&gt;RPC changes&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mining&quot; id=&quot;markdown-toc-mining&quot;&gt;Mining&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#utxo-memory-accounting&quot; id=&quot;markdown-toc-utxo-memory-accounting&quot;&gt;UTXO memory accounting&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot; id=&quot;markdown-toc-conclusion&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hashes-for-verification&quot; id=&quot;markdown-toc-hashes-for-verification&quot;&gt;Hashes for verification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;We are pleased to announce the general availability of Bitcoin Core 0.14.1. This release forms part of the regular maintenance cycle of Bitcoin Core and brings bug fixes, optimisations and improvements to the 0.14.x series.&lt;/p&gt;

&lt;h2 id=&quot;notable-changes&quot;&gt;Notable changes&lt;/h2&gt;

&lt;h3 id=&quot;rpc-changes&quot;&gt;RPC changes&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;The first positional argument of &lt;code class=&quot;highlighter-rouge&quot;&gt;createrawtransaction&lt;/code&gt; was renamed from &lt;code class=&quot;highlighter-rouge&quot;&gt;transactions&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;inputs&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The argument of &lt;code class=&quot;highlighter-rouge&quot;&gt;disconnectnode&lt;/code&gt; was renamed from &lt;code class=&quot;highlighter-rouge&quot;&gt;node&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;address&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These interface changes break compatibility with 0.14.0, when the named arguments functionality, introduced in 0.14.0, is used. Client software using these calls with named arguments need to be updated.&lt;/p&gt;

&lt;h3 id=&quot;mining&quot;&gt;Mining&lt;/h3&gt;

&lt;p&gt;In previous versions, the &lt;code class=&quot;highlighter-rouge&quot;&gt;getblocktemplate&lt;/code&gt; RPC required segwit support from downstream clients/miners once segwit activated on the network. In this version, it now supports non-segwit clients even after activation by removing all segwit transactions from the returned block template.  This allows non-segwit miners to continue functioning correctly even after segwit has activated.&lt;/p&gt;

&lt;p&gt;Due to the limitations in previous versions, getblocktemplate also recommended non-segwit clients to not signal for the segwit version-bit. Since this is no longer an issue, getblocktemplate now always recommends signalling segwit for all miners. This is safe because the ability to enforce the rule is the only required criteria for safe activation (actually producing segwit-enabled blocks is not required).&lt;/p&gt;

&lt;h3 id=&quot;utxo-memory-accounting&quot;&gt;UTXO memory accounting&lt;/h3&gt;

&lt;p&gt;Memory usage for the UTXO cache is being calculated more accurately, so that the configured limit (&lt;code class=&quot;highlighter-rouge&quot;&gt;-dbcache&lt;/code&gt;) will be respected when memory usage peaks during cache flushes.  The memory accounting in prior releases is estimated to only account for half the actual peak utilization.&lt;/p&gt;

&lt;p&gt;The default &lt;code class=&quot;highlighter-rouge&quot;&gt;-dbcache&lt;/code&gt; has also been changed in this release to 450MiB.  Users who currently set &lt;code class=&quot;highlighter-rouge&quot;&gt;-dbcache&lt;/code&gt; to a high value (e.g. to keep the UTXO more fully cached in memory) should consider increasing this setting in order to achieve the same cache performance as prior releases.  Users on low-memory systems (such as systems with 1GB or less) should consider specifying a lower value for this parameter.&lt;/p&gt;

&lt;p&gt;Additional information relating to running on low-memory systems can be found here: &lt;a href=&quot;https://gist.github.com/laanwj/efe29c7661ce9b6620a7&quot;&gt;reducing-bitcoind-memory-usage&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;For details on all the changes made in Bitcoin Core 0.14.1, please read the &lt;a href=&quot;/en/releases/0.14.1/&quot;&gt;release notes&lt;/a&gt;. To download, please visit the &lt;a href=&quot;https://bitcoin.org/en/download&quot;&gt;download page&lt;/a&gt; or the &lt;a href=&quot;https://bitcoin.org/bin/bitcoin-core-0.14.1/&quot;&gt;files directory&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The next major planned release will be Bitcoin Core 0.15.0.  It will begin with a freeze on new feature additions in mid-July and a release when release candidate testing has completed, anticipated to be in early September.  For more information, please see the &lt;a href=&quot;https://github.com/bitcoin/bitcoin/issues/9961&quot;&gt;schedule&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you are interested in contributing to Bitcoin Core, please see our &lt;a href=&quot;/en/contribute&quot;&gt;contributing page&lt;/a&gt; and the document &lt;a href=&quot;/en/faq/contributing-code/&quot;&gt;How to contribute code to Bitcoin Core&lt;/a&gt;. If you don’t know where to get started or have any other questions, please stop by either our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC&lt;/a&gt; or &lt;a href=&quot;https://slack.bitcoincore.org/&quot;&gt;Slack&lt;/a&gt; chatrooms and we’ll do our best to help you.&lt;/p&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;a60d7c8dde9b77e7ff547976ce37db1fe98c71833003465befe650d6bc102b6b  bitcoin-0.14.1-aarch64-linux-gnu.tar.gz
cd23ffe044b56dd56d3b9ba384e606c44000b60f44e0a74a19c313a4f30ea5c8  bitcoin-0.14.1-arm-linux-gnueabihf.tar.gz
ff6bf851dae036905de6272562cca4b94c4842f758b7bd68879a088fe7b0f662  bitcoin-0.14.1-i686-pc-linux-gnu.tar.gz
a786381246b92a81a5f5c9cb538d162ab051e51e84a10449f5f7fc310137b258  bitcoin-0.14.1-osx64.tar.gz
2052793453ad37b8e00527942a7150f23f1c5dd5903e5e3e8a3b444dee81e3e0  bitcoin-0.14.1-osx.dmg
f21203e07f054dce3177539be89a066d4faee1e2fa432157c1444e4e6dd4f9a3  bitcoin-0.14.1.tar.gz
875f5995a47e5a1b1becaa02591400fc90bfc1a471b15eed71232b161efcdb1b  bitcoin-0.14.1-win32-setup.exe
7146cfd057eb9d9f37444106e2649d059cc85fa390e5af0037acd8ef61574aaf  bitcoin-0.14.1-win32.zip
3ebf2c58e3b60dd79153bf2a043a5f90402b8067b21a93dd88763c96dd8baba6  bitcoin-0.14.1-win64-setup.exe
851306112811ef49e89b2a105f4c78dd38fa4997dc913b9a748040605a33640d  bitcoin-0.14.1-win64.zip
0c6920a9f3181a95ca029fdac5342b5702569ee441ec2128d19051f281683058  bitcoin-0.14.1-x86_64-linux-gnu.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/04/22/release-0.14.1/&quot;&gt;Bitcoin Core 0.14.1 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on April 22, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Technology roadmap - Prioritized block download with using full block SPV mode]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/03/31/prioritized-block-download-using-hybrid-spv/" />
        <id>en-hybrid-spv</id>
        <published>2017-03-31T00:00:00+07:00</published>
        <updated>2017-03-31T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/03/31/prioritized-block-download-using-hybrid-spv/</uri>
            
        </author>
        <content type="html">
            &lt;h2 id=&quot;hybrid-full-block-spv-mode&quot;&gt;Hybrid full block SPV mode&lt;/h2&gt;

&lt;p&gt;One of the major hurdle hindering further adoption of fully validating software by regular users is the inability to use the wallet features of the client until it has fully synced the entire blockchain. For users bootstrapping a new node, this means that they are unable to receive or send transactions until every block has been downloaded and validated up to the current tip of the chain. This behaviour is not by mistake: the Bitcoin Core reference software, by default, is built to offer the strongest security and privacy guarantees a Bitcoin user can expect and this necessarily implies full validation in order to confirm the integrity of historical blockchain data.&lt;/p&gt;

&lt;p&gt;On the other hand, existing features of the software such as headers-first validation provide an opportunity to improve the usability of the wallet provided users are willing to make a temporary security tradeoff. Using the hybrid full block SPV mode, the software will prioritize download of blocks according to the oldest key in the user’s wallet. Along with the previously downloaded block headers chain, which should meet expected Proof-Of-Work difficulty checks, the client can then immediately start processing relevant transactions. The entire blockchain is still downloaded and eventually validated in parallel but this feature enables users to see and spend UTXOs associated with their wallet while synchronization is happening in the background.&lt;/p&gt;

&lt;p&gt;Contrary to typical implementation of SPV wallets, this model does not suffer from the &lt;a href=&quot;http://bitcoin.stackexchange.com/questions/37756/are-public-keys-and-their-corresponding-hash-values-both-added-to-a-bitcoinj-blo&quot;&gt;privacy degradation&lt;/a&gt; imposed on schemes relying on bloom filters and public disclosure of public keys. This benefit comes with a tradeoff which is that it consumes more bandwidth. Another caveat: confirmations received under SPV mode are inherently less safe than those received under full validation. A user leveraging the hybrid SPV mode should wait for several confirmations (6+) until his payment can be considered secure.&lt;/p&gt;

&lt;h3 id=&quot;further-information&quot;&gt;Further information&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/9483&quot;&gt;Complete patch-set PR&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoin.org/en/bitcoin-core/features/privacy#perfect-privacy-for-received-transactions&quot;&gt;Perfect privacy for received transactions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/03/31/prioritized-block-download-using-hybrid-spv/&quot;&gt;Technology roadmap - Prioritized block download with using full block SPV mode&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on March 31, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Technology roadmap - Schnorr signatures and signature aggregation]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/03/23/schnorr-signature-aggregation/" />
        <id>en-schnorr-sigagg</id>
        <published>2017-03-23T00:00:00+07:00</published>
        <updated>2017-03-23T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/03/23/schnorr-signature-aggregation/</uri>
            
        </author>
        <content type="html">
            &lt;h2 id=&quot;schnorr-signatures&quot;&gt;Schnorr Signatures&lt;/h2&gt;

&lt;p&gt;The replacement of Bitcoin’s digital signature algorithm (ECDSA) for the more efficient Schnorr algorithm has long been at the top of the wish list for many Bitcoin developers. A simple algorithm leveraging elliptic curve cryptography, Schnorr enables several improvements over the existing scheme all while preserving all of its features and security assumptions.&lt;/p&gt;

&lt;p&gt;Notably, Schnorr signatures support “native multisig” which enables the aggregation of multiple signatures into a single one valid for the sum of the keys of their respective inputs. This functionality offers three important benefits:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Constant-size signatures irrespective of the number of participants in the multisig setup. A 50-of-50 transaction is effectively the same size as one that uses a single public key and signature. For this reason, the performance of such schemes is significantly improved by removing the original requirement of validating every signature individually. Additionally, the verification of Schnorr signatures is slightly faster than that of ECDSA.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The diminished size of data to be validated and transmitted across the network also translates in interesting capacity gains. Considering the historical growth in the number of multisig transactions displayed below, the potential to reduce the size of these transactions is an enticing addition to existing scaling efforts. We should expect this trend to continue with the emergence and further adoption of payment channels.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;From a privacy standpoint, Schnorr allows the entire policy of the multisig to be obscured and indistinguishable from a conventional single pubkey. In a threshold setup, it also becomes impossible for participants to reveal which of them authorized, or not, a transaction.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/images/posts/utxo-repartition.png&quot; alt=&quot;UTXO repartition&quot; /&gt;
&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  Distribution of unspent P2SH outputs according to their multisig setup. Source: p2sh.info
&lt;/p&gt;

&lt;p&gt;Unfortunately, unlike ECDSA, the Schnorr algorithm has not been standardized since its invention, likely because of the original patent enforced on it (which has since expired). While the general outlines of the system are mathematically sound, the lack of documentation and specification makes it more challenging to implement. Specifically, its application to the ephemeral keypairs design of Bitcoin involves security considerations that require further optimization.&lt;/p&gt;

&lt;p&gt;The main challenge is defined by Pieter Wuille in his Scaling Bitcoin Milan presentation of Schnorr signatures as the “cancellation” problem. The possibility for a group of users to create a signature valid for the sum of their keys opens the door for an adversarial participant to subtract from the whole another user’s key. It essentially works like this:&lt;/p&gt;

&lt;p&gt;Assume a 2-of-2 multisig scheme using input public keys Q1 and Q2. Rather than announce their key as Q2 to be combined with Q1, a malicious participant could provide, during the interaction phase, Q2-Q1 and effectively cancel out the other user’s key. Any fund sent to the joint public key is now only spendable by the owner of the Q2 key without the owner of Q1 even being aware of what is going on.&lt;/p&gt;

&lt;p&gt;Fortunately, a solution is now available which involves multiplying every key used during the setup with a hash based on itself and all other keys involved before signing. This process is called delinearization. A proof of the security of this scheme is currently undergoing peer-review and will be formally described in an upcoming whitepaper.&lt;/p&gt;

&lt;p&gt;In the near term, Schnorr signatures are being considered as viable replacement for two important functions of the Bitcoin protocol: OP_CHECKSIG &amp;amp; OP_CHECKMULTISIG.&lt;/p&gt;

&lt;p&gt;The former is currently used to check ECDSA signatures against their respective public key according to the message in a transaction. By switching to an equivalent that checks for Schnorr signatures rather than ECDSA, the opcode can be used to authorize a spend requiring multiple signatures which would typically require calling OP_CHECKMULTISIG. Using a priori interaction not observable by the network, the collection of signers compute a combined public key along with a common signature which is verified by the new OP_CHECKSIG with the benefits of increased privacy and reduced costs.&lt;/p&gt;

&lt;p&gt;The latter involves threshold scenarios where only n-of-m signatures are necessary to authorize a transaction. The current implementation of OP_CHECKMULTISIG validates all of the public keys and associated signatures required by the threshold policy. Because the computation scales linearly with the number of participants, Schnorr propose a much more efficient scheme which replaces the list of signatures with a single combined one along with a subset of the required pubkeys.&lt;/p&gt;

&lt;p&gt;Until more evaluation of the delinearization scheme securing signers from malicious actors is performed, further applications of Schnorr signatures may be premature but the implementation of the features above can hopefully pave the way for a better understanding of the scheme in production. Contingent on additional peer-review, a BIP for the implementation of Schnorr Signatures could be proposed by the end of the year.&lt;/p&gt;

&lt;h2 id=&quot;signature-aggregation&quot;&gt;Signature aggregation&lt;/h2&gt;

&lt;p&gt;The properties of Schnorr allowing for the combination of multiple signatures over a single input are also applicable to the aggregation of multiple inputs for all transactions. Bitcoin developer Gregory Maxwell was the first to introduce the idea using insights from a previous proposal based on BLS signatures.&lt;/p&gt;

&lt;p&gt;To properly understand the difference between this application and the ones described above it is necessary to consider how signatures are aggregated in each respective cases. In the native multisig setup, signers collaborate between themselves to compute a common public key and its associated signature. This interaction happens outside the protocol and only concerns the parties involved. The idea behind signature aggregation is to enable system validators ie. Bitcoin nodes to compute a single key and signature for every inputs of all transactions at the protocol level.&lt;/p&gt;

&lt;p&gt;Because this scheme expands the scope of aggregation outside of the deterministic set of participants, it introduces a new vector of attack for malicious actors to leverage the “cancellation” bug. For this reason, the delinearization fix highlighted in the previous section is critical to the soundness of this method.&lt;/p&gt;

&lt;p&gt;In terms of implementation, the proposal is rather straightforward: OP_CHECKSIG and
OP_CHECKMULTISIG are modified so that they can stack public keys, delinearize them and once all associated inputs are validated, produce a combined signature for their respective transactions.&lt;/p&gt;

&lt;p&gt;It is rather straightforward to evaluate the type of resources savings that would have been possible had signature aggregation been implemented since the genesis block. Assuming every historical signature would be reduced to 1 byte, except for one per transaction, analysis suggest the method would result in at least a 25% reduction in terms of storage and bandwidth. Increased used of n-of-n thresholds are likely to translate into more savings though they were not accounted for in this analysis.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;/assets/images/posts/signature-agg-chart.png&quot; alt=&quot;Schnorr signature addregation savings chart&quot; /&gt;
&lt;/p&gt;

&lt;h3 id=&quot;further-information-on-schnorr-signatures&quot;&gt;Further information on Schnorr signatures&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://diyhpl.us/wiki/transcripts/scalingbitcoin/milan/schnorr-signatures/&quot;&gt;Transcript of Pieter Wuille’s Scaling Bitcoin Milan presentation on Schnorr signatures&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://youtu.be/_Z0ID-0DOnc?t=2297&quot;&gt;Video of Pieter Wuille’s presentation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://diyhpl.us/wiki/transcripts/2016-july-bitcoin-developers-miners-meeting/dan-boneh/&quot;&gt;Discussion about Schnorr Signatures at July 2016 Bitcoin developers &amp;amp; miners meet-up&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/sipa/secp256k1/blob/968e2f415a5e764d159ee03e95815ea11460854e/src/modules/schnorr/schnorr.md&quot;&gt;Schnorr documentation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://bitcoin.stackexchange.com/questions/34288/what-are-the-implications-of-schnorr-signatures/35351#35351&quot;&gt;StackExchange - What are the implications of Schnorr?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.elementsproject.org/elements/schnorr-signatures/&quot;&gt;Elements Project: Schnorr Signature Validation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=TYQ-3VvNCHE&quot;&gt;SF Bitcoin Devs Seminar: Gregory Maxwell on Schnorr multi-signatures&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoincore.org/logs/2016-05-zurich-meeting-notes.html&quot;&gt;Bitcoin Core Developers meeting notes on Schnorr signatures&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;further-information-on-signature-aggregation&quot;&gt;Further information on signature aggregation&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcointalk.org/index.php?topic=1377298.0&quot;&gt;Gregory Maxwell post on signature aggregation on Bitcointalk.org forum&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoincore.org/logs/2016-05-zurich-meeting-notes.html&quot;&gt;Bitcoin Core Developers meeting notes on Schnorr signatures&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://diyhpl.us/wiki/transcripts/scalingbitcoin/milan/schnorr-signatures/&quot;&gt;Transcript of Pieter Wuille’s Scaling Bitcoin Milan presentation on Schnorr signatures&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://youtu.be/_Z0ID-0DOnc?t=2297&quot;&gt;Video of Pieter Wuille’s presentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/03/23/schnorr-signature-aggregation/&quot;&gt;Technology roadmap - Schnorr signatures and signature aggregation&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on March 23, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[On-chain scaling - a review of historical performance optimization made to Bitcoin’s reference software. Part 1]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/03/13/performance-optimizations-1/" />
        <id>en-performance-optimizations-1</id>
        <published>2017-03-13T00:00:00+07:00</published>
        <updated>2017-03-13T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/03/13/performance-optimizations-1/</uri>
            
        </author>
        <content type="html">
            &lt;p&gt;The following post aims to highlight development milestones that helped preserve a reliable experience for users of the Bitcoin software client over the years. We present several upgrades that were critical in maintaining the decentralized properties of the network and mitigate the resources burden of its participants. We describe how numerous orders-of-magnitude optimizations were made so that the Bitcoin network could support the growth in transaction activity without dramatically increasing the costs of participation for new and existing users. Finally, we note how those improvements all fall within a larger, systematic approach to protocol development that uses insights from Big-O complexity concepts and leverages smarter algorithms that make more efficient use of the network’s resources.&lt;/p&gt;

&lt;h2 id=&quot;signature-caching&quot;&gt;Signature Caching&lt;/h2&gt;
&lt;p&gt;Release: Bitcoin-Qt 0.7.0&lt;/p&gt;

&lt;p&gt;Verification of ECSDA signatures are one of the most computationally heavy operations done at the peer level. Because they need to be verified for every transaction, any superfluous validation leads to significant resource overhead for the end user. That was the case for early versions of the software which would both verify signatures before they entered a node mempool and after they were received into a block.&lt;/p&gt;

&lt;p&gt;In order to gain in efficiency, developers created a cache allowing nodes to store previously validated signatures and skip redundant work once the transactions make it into an accepted block.&lt;/p&gt;

&lt;p&gt;Additionally, the signature cache also mitigates a DoS vector introduced by the potential for specifically crafted transactions to stall Bitcoin clients.&lt;/p&gt;

&lt;h3 id=&quot;further-information&quot;&gt;Further information&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.7.0#core-bitcoin-handling-and-blockchain-database&quot;&gt;Bitcoin-Qt 0.7.0 Release notes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcointalk.org/index.php?topic=136422.0&quot;&gt;Fixed vulnerability explanation: Why the signature cache is a DoS protection&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ultraprune--leveldb&quot;&gt;Ultraprune + LevelDB&lt;/h2&gt;
&lt;p&gt;Release: Bitcoin-Qt 0.8.0&lt;/p&gt;

&lt;p&gt;Ultraprune was one of the first major upgrades to the Bitcoin software aimed at solving the overhead associated with validating transaction data from the blockchain. Previous versions of the Bitcoin reference client maintained an index of all transaction outputs, spent or unspent. Ultraprune significantly reduced the size of that index with the insight that you only needed to keep track of unspent outputs, and an output - once spent - can be removed from the indexes entirely.&lt;/p&gt;

&lt;p&gt;To achieve this, a new database layout was implemented which allocates unspent transaction outputs to a compact custom format in order to reduce the size of information required for validation work.&lt;/p&gt;

&lt;p&gt;To further optimize the performance of the system, Ultraprune was introduced in parallel with LevelDB, which deprecated the old BDB database technology. Overall, the impact was notable: depending on their hardware, users could experience at least an order of magnitude improvement when validating blockchain data. This new database structure would also pave the way for future work on pruning and lighter implementations of Bitcoin full nodes.&lt;/p&gt;

&lt;h3 id=&quot;further-information-1&quot;&gt;Further information&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.8.0#improvements&quot;&gt;Bitcoin-Qt 0.8.0 Release notes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://archive.is/bUocJ&quot;&gt;Ultraprune in plain english&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcointalk.org/index.php?topic=119525.0&quot;&gt;Ultraprune merged in mainline&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcointalk.org/index.php?topic=91954.0&quot;&gt;Pruning in the reference client: ultraprune mode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;parallel-script-verification&quot;&gt;Parallel script verification&lt;/h2&gt;
&lt;p&gt;Release: Bitcoin-Qt 0.8&lt;/p&gt;

&lt;p&gt;While a more subtle change, transitioning script verification to a more parallelized process removed significant overhead from block validation times. Early versions of the software would validate script data from inputs in between every UTXO fetch, creating a performance issue because of the linear processing of all actions. This violates a basic principle for the design of efficient computing processes, which dictates that computation should happen concurrently with I/O jobs, where possible. 
With that in mind, the block validation mechanism was re-engineered in order to be able to allocate script checks to parallel threads so that their verification can happen even before the client is done fetching all of the UTXOs from the block. To achieve this, script check actions are stored in a queue after transaction are processed and are handled separately from other input validation jobs.&lt;/p&gt;

&lt;p&gt;As a consequence, synchronization to the tip of the chain happens much faster by making more efficient use of the peer’s resources. During testing of the implementation, developers noted 35% to 100% speed-up when benchmarking against previous versions of the software.&lt;/p&gt;

&lt;h3 id=&quot;further-information-2&quot;&gt;Further information&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/2060&quot;&gt;Parallel script verification #2060&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;headers-first-synchronization&quot;&gt;Headers first synchronization&lt;/h2&gt;
&lt;p&gt;Release: Bitcoin Core 0.10&lt;/p&gt;

&lt;p&gt;Striving to further improve initial block download time, the Core project introduced in late 2014 an important re-architecture of the mechanism used by nodes to synchronize with the most-work valid chain.&lt;/p&gt;

&lt;p&gt;Initially, the process of bootstrapping a new Bitcoin client would involve a user fetching block data from a single peer with the consequence that any interruption or decrease in connection quality would significantly stall the process. With an ever-increasing blockchain size, this would result in sometimes massive waiting time for the synchronization to complete, with a large percentage of users reporting up to multi-day periods depending on their hardware.&lt;/p&gt;

&lt;p&gt;Headers first synchronization completely mitigates this issue using a new method that involves nodes first downloading and validating block headers from a single peer and then fetching block data in parallel from a multitude of others.&lt;/p&gt;

&lt;p&gt;Complaints about initial block download time have been prevalent since the early days of Bitcoin. With headers first synchronization, the software took a major step forward in terms of usability for new users. Rather than wasting many hours on unreliable synchronization, nodes could now leverage their entire network of peers and cut down the bootstrapping time significantly. With the use of smarter algorithms, another asymptotic improvement was made to this crucial aspect of Bitcoin’s long term sustainability.&lt;/p&gt;

&lt;h3 id=&quot;further-information-3&quot;&gt;Further information&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.10.0#faster-synchronization&quot;&gt;Bitcoin-Qt 0.10.0 Release notes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoin.org/en/developer-guide#headers-first&quot;&gt;Bitcoin.org Developer Guide&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2014-October/006724.html&quot;&gt;Pieter Wuille’s post to the Bitcoin-dev mailing list&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;block-file-pruning&quot;&gt;Block file pruning&lt;/h2&gt;
&lt;p&gt;Release: Bitcoin Core 0.11&lt;/p&gt;

&lt;p&gt;Pruning of old data was a concept first described by Satoshi Nakamoto in his white paper as a potential solution to disk space scarcity. Unfortunately, the original design was inadequate and could not be implemented as imagined by its creator. Seven years later, with the blockchain reaching more than a hundred gigabytes, the introduction of block file pruning as we know it today presents a major boon to users with limited resources.&lt;/p&gt;

&lt;p&gt;Block file pruning leverages previous work with ultraprune; users who have initially downloaded and validated the blockchain may now discard raw data older than 288 blocks. Because those nodes still preserve the full UTXO set, they remain able to validate unspent data, which is enough to fully validate new blocks and protect against potential double-spends.&lt;/p&gt;

&lt;p&gt;Of course, pruning implies that there remains a sufficient number of archival nodes around to serve full blockchain data. On the other hand, this innovation expands the range of validators by making it more cost-effective to remain one. As a whole, the solution is a welcome addition to the options available for us to bolster network diversity.&lt;/p&gt;

&lt;h3 id=&quot;further-information-4&quot;&gt;Further information&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.11.0#block-file-pruning&quot;&gt;Bitcoin-Qt 0.11.0 Release notes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;libsecp256k1&quot;&gt;libsecp256k1&lt;/h2&gt;
&lt;p&gt;Release: Bitcoin Core 0.12&lt;/p&gt;

&lt;p&gt;After measurements, it was determined that the next step after solving the inefficiencies of blockchain download was to tackle the bottleneck of transaction verification and its heavy computing load. The Core project set out to do this by using a new library designed for optimized performance of ECDSA operations. ECDSA (Elliptic Curve Digital Signature Algorithm) is the backbone of Bitcoin’s public key infrastructure and is used every time a user moves coins by signing a message with their private keys. These signatures need to be verified by every peer in the network in order to preserve the ledger’s integrity.&lt;/p&gt;

&lt;p&gt;Early developers had long considered transitioning away from the original OpenSSL library and after 5 years of design considerations, testing and peer-review, Pieter Wuille’s libsecp256k1 library was introduced as its replacement. As expected, the implementation led to major speed-up of the signature validation process behind every Bitcoin transaction. Benchmarks reported 5–7x improvements over the OpenSSL implementation. For users this would translate to saving up to half the bootstrap time typically dedicated to ECSDA operations, one of the most laborious steps in synchronizing a new node from scratch.&lt;/p&gt;

&lt;p&gt;Considering the growth in Bitcoin transaction activity, this upgrade was essential to preserving a reasonable user experience for network peers. Once again, reduction of algorithmic complexity provided users with more efficient usage of their resources and drastically lowered the barrier of entry for new participants.&lt;/p&gt;

&lt;h3 id=&quot;further-information-5&quot;&gt;Further information&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.12.0#signature-validation-using-libsecp256k1&quot;&gt;Bitcoin-Qt 0.12.0 Release notes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcointalk.org/index.php?action=profile;u=80376&quot;&gt;Andrew Poelstra (andytoshi) on security and testing of libsecp256k1&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.reddit.com/r/Bitcoin/comments/2rrxq7/on_why_010s_release_notes_say_we_have_reason_to/&quot;&gt;Greg Maxwell on testing of libsecp256k1 revealing bug in OpenSSL&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=RguZ0_nmSPw&amp;amp;t=1297&quot;&gt;Greg Maxwell presentation at DevCore&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcointalk.org/index.php?topic=3238.0&quot;&gt;Hal Finney post on libsecp256k1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;memory-pool-limiting&quot;&gt;Memory pool limiting&lt;/h2&gt;
&lt;p&gt;Release: Bitcoin Core 0.12&lt;/p&gt;

&lt;p&gt;A long standing vulnerability of the Bitcoin software was its inability to properly deal with the flooding of a peer’s memory pool. Indeed, an attacker could send a high number of low value, low fee transactions that would accumulate in the memory pool until it would overload the memory available. This would cause nodes with relatively low RAM resources to crash during periods of unusual activity. The only effective measure against this was to increase the software’s minimum relay fee which still left no upper bound on the potential size of the mempool.&lt;/p&gt;

&lt;p&gt;To remediate this, developers of the Core project implemented a strict memory pool maximum size with specific eviction policies sorting transactions by fees and evicting the lowest paying ones first. In order to prevent transactions with the same fee from re-entering the memory pool, the node will increase its effective minimum relay feerate to match the one of the last evicted transaction plus the initial minimum relay feerate.&lt;/p&gt;

&lt;p&gt;Configuration of the maximum size is left to the users with the default size being 300 megabytes. This update provides a much more robust experience for node users with limited resources and, in general, makes the entire network more reliable.&lt;/p&gt;

&lt;h3 id=&quot;further-information-6&quot;&gt;Further information&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.12.0#memory-pool-limiting&quot;&gt;Bitcoin-Qt 0.12.0 Release notes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In Part 2, we will discuss more recent improvements that build on the technologies presented above and further improve the robustness and scaling potential of the network.&lt;/p&gt;

            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/03/13/performance-optimizations-1/&quot;&gt;On-chain scaling - a review of historical performance optimization made to Bitcoin’s reference software. Part 1&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on March 13, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.14.0 Released with Performance Improvements]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/03/08/release-0.14.0/" />
        <id>en-blog-release-0.14.0</id>
        <published>2017-03-08T00:00:00+07:00</published>
        <updated>2017-03-08T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/03/08/release-0.14.0/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#ibd&quot; id=&quot;markdown-toc-ibd&quot;&gt;Improved Initial Block Download (IBD) Performance&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#assumed-valid-blocks&quot; id=&quot;markdown-toc-assumed-valid-blocks&quot;&gt;Assumed valid blocks&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#memory-sharing-between-mempool-and-utxo-db-cache&quot; id=&quot;markdown-toc-memory-sharing-between-mempool-and-utxo-db-cache&quot;&gt;Memory-sharing between mempool and UTXO DB cache&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#faster-relay&quot; id=&quot;markdown-toc-faster-relay&quot;&gt;Faster new block validation and relay&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#improved-signature-cache&quot; id=&quot;markdown-toc-improved-signature-cache&quot;&gt;Improved signature cache&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#earlier-bip152-compactblock-relay&quot; id=&quot;markdown-toc-earlier-bip152-compactblock-relay&quot;&gt;Earlier BIP152 compactblock relay&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#p2p-code-refactor-focused-on-concurrency-and-throughput&quot; id=&quot;markdown-toc-p2p-code-refactor-focused-on-concurrency-and-throughput&quot;&gt;P2P code refactor focused on concurrency and throughput&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mempool-saved-to-disk&quot; id=&quot;markdown-toc-mempool-saved-to-disk&quot;&gt;Mempool saved to disk&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#fee-bump&quot; id=&quot;markdown-toc-fee-bump&quot;&gt;Optional fee bumping&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot; id=&quot;markdown-toc-conclusion&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hashes-for-verification&quot; id=&quot;markdown-toc-hashes-for-verification&quot;&gt;Hashes for verification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;We are pleased to &lt;a href=&quot;/en/releases/0.14.0/&quot;&gt;release&lt;/a&gt; Bitcoin Core 0.14.0, which significantly speeds up the processing of historic blocks by newly started nodes and the validation and relay of new blocks by online nodes.  An optional new feature (disabled by default) is also provided to allow wallet users to rebroadcast one of their previously-sent unconfirmed transactions with a higher fee, which may allow it to confirm more quickly.&lt;/p&gt;

&lt;p&gt;A short summary of the major new features is provided below, with links to more details later in this post.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#ibd&quot;&gt;Improved Initial Block Download (IBD) performance&lt;/a&gt;:&lt;/strong&gt; a full node that has been started for the first time can now validate all blocks up until the present faster than before.  This is at least the sixth time IBD performance has been significantly improved by developers to help ensure that new users aren’t discouraged from running a full node because synchronizing the ever-growing block chain takes too long.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#faster-relay&quot;&gt;Faster new block validation and relay&lt;/a&gt;:&lt;/strong&gt; miners in particular will benefit from improvements made in four existing Bitcoin Core features.  The signature cache has been upgraded for machines with many CPU cores—a test on a system with 16 cores shows a 40% speed increase in processing a new block.  The BIP152 CompactBlocks implementation will now relay some blocks before they’ve been fully validated, allowing those blocks to propagate across the peer-to-peer (P2P) network faster than before.  The P2P network code has also generally been refactored to allow multiple actions to happen at the same time (concurrency) as well as to increase throughput, eliminating many potential delays in processing new blocks.  Finally, unconfirmed transactions in each node’s mempool can now be saved to and restored from disk when the node is restarted.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#fee-bump&quot;&gt;Optional fee bumping&lt;/a&gt;&lt;/strong&gt;: Bitcoin Core’s wallet now allows users to optionally send transactions that opt-in to fee-based transaction replacement.  This allows users to increase the fee their transactions pay even after they’ve broadcast an earlier version of the transaction.  This feature is disabled by default.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ibd&quot;&gt;Improved Initial Block Download (IBD) Performance&lt;/h2&gt;

&lt;p&gt;Over time, the constantly-increasing size of the block chain has forced new first-time nodes to process larger and large amounts of data before they can be used with a wallet to receive and send payments.  Many previous Bitcoin and Bitcoin Core releases have included major improvements designed to eliminate the pain of this Initial Block Download (IBD), also called the initial sync.  For example:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Release&lt;/th&gt;
      &lt;th&gt;Major improvements in IBD&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.5.0&quot;&gt;0.5.0&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;Skip verification of historic (checkpointed) signatures&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.8.0&quot;&gt;0.8.0&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;Switch to LevelDB &amp;amp; parallel signature validation&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.10.0&quot;&gt;0.10.0&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;Headers-first sync and parallel block download&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.11.0&quot;&gt;0.11.0&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;Optional block file pruning to save disk space&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.12.0&quot;&gt;0.12.0&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;New fast signature validation library written from scratch (libsecp256k1)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://bitcoin.org/en/release/v0.13.1&quot;&gt;0.13.1&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;Segwit to allow skipping download of historic signatures in the future&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This 0.14.0 release includes two more improvements that significantly increase IBD speed:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Assumed valid blocks&lt;/li&gt;
  &lt;li&gt;Memory-sharing between mempool and UTXO DB cache&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Those two optimizations are described in more detail below.  A test of the speed of the previous release (Bitcoin Core 0.13.2) compared to the speed of this Bitcoin Core 0.14.0 release was performed using Amazon EC2 virtual private servers, type &lt;code class=&quot;highlighter-rouge&quot;&gt;t2.xlarge&lt;/code&gt; with four cores and 16 GB memory at a cost of $0.188 USD per hour (excluding block storage costs).  All Bitcoin Core settings were left at their defaults.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Bitcoin Core 0.13.2 took 1 day, 12 hours, and 40 minutes to complete IBD for a total cost of $6.89.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Bitcoin Core 0.14.0 took 0 days, 6 hours, and 24 minutes to complete IBD for a total cost of $1.20.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Under these testing conditions, Bitcoin Core 0.14.0 was 5.7 times faster at IBD than the previous version of Bitcoin Core.&lt;/p&gt;

&lt;p&gt;Note: Bitcoin Core’s defaults are chosen to allow it to run on a large variety of hardware, including older machines with small amounts of memory.  For users who want a faster sync than six hours, consider starting Bitcoin Core with the &lt;code class=&quot;highlighter-rouge&quot;&gt;-dbcache=&lt;/code&gt; option higher than its &lt;code class=&quot;highlighter-rouge&quot;&gt;300&lt;/code&gt; (MB) default.  Many modern computers should be able to sync in about 3 hours using Bitcoin Core 0.14.0 and 8 GB of memory (&lt;code class=&quot;highlighter-rouge&quot;&gt;-dbcache=8000&lt;/code&gt;).&lt;/p&gt;

&lt;h3 id=&quot;assumed-valid-blocks&quot;&gt;Assumed valid blocks&lt;/h3&gt;

&lt;p&gt;Bitcoin 0.3.2 introduced a mechanism called &lt;em&gt;checkpoints&lt;/em&gt; to prevent denial-of-service attacks during IBD by ensuring that new full nodes couldn’t be tricked into spending excessive amounts of effort validating alternative block chains that were different than the best-known chain at certain points in time.&lt;/p&gt;

&lt;p&gt;Bitcoin 0.5.0 built upon those checkpoints to speed up IBD by skipping verification of signatures in blocks that were earlier in the block chain than the most recent checkpoint.&lt;/p&gt;

&lt;p&gt;Over time, other improvements in Bitcoin Core’s security (such as &lt;a href=&quot;https://bitcoin.org/en/release/v0.10.0#faster-synchronization&quot;&gt;headers-first sync&lt;/a&gt; and &lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/9053&quot;&gt;minimum chainwork&lt;/a&gt;) has reduced the need for checkpoints, while at the same time many Bitcoin developers have expressed the desire to remove checkpoints because they confuse new developers about the security model—checkpoints make it look like Bitcoin developers are deciding which chain is valid even though the intent was always to only accept the chain which the software had already decided was valid.&lt;/p&gt;

&lt;p&gt;Assumed valid blocks is a new feature that separates the signature-skipping optimization from the checkpoints anti-denial-of-service mechanism so they can each be dealt with independently.&lt;/p&gt;

&lt;p&gt;An assumed valid block is a block that individual users consider to be valid, including being part of a valid block chain.  This is easy for anyone to test in a completely repeatable (deterministic) way: take any consensus-compatible Bitcoin implementation and run it on the whole block chain including the block in question.  If the software doesn’t reject the block or any preceding block, it’s valid.&lt;/p&gt;

&lt;p&gt;If someone who starts a new full node for the first time knows about any valid blocks, they can then provide the highest-height one of those blocks to Bitcoin Core 0.14.0 and the software will skip verifying signatures in the blocks before the assumed valid block.  Since verifying signatures consumes a lot of CPU during IBD, using assumed valid blocks can significantly speed up IBD.  All blocks after the assumed valid block will still have their signatures checked normally.&lt;/p&gt;

&lt;p&gt;A critical difference between checkpoints and assumed valid blocks is that Bitcoin 0.3.2 required all checkpointed blocks to be part of the block chain but Bitcoin Core 0.14.0 does not require any assumed valid blocks to be part of the chain.  If no assumed valid block provided by the user (or the system defaults) is part of the block chain, Bitcoin Core will simply verify all signatures for historic blocks.  Or, if there’s a block chain fork and the valid block chain with the most proof of work doesn’t include a known assumed valid block, Bitcoin Core will still switch to the new best block chain even though it means abandoning the assumed valid block.&lt;/p&gt;

&lt;p&gt;New users to Bitcoin probably won’t know about any valid blocks, but they probably also won’t know all the consensus rules—so they can simply use the copy of the full node software they download.  Bitcoin Core 0.14.0 ships with a default assumed valid block that is set during the release process by having multiple well-known developers each confirm that a certain block is known to be valid by them (&lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/9779&quot;&gt;example&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Anyone who wants to verify all signatures using Bitcoin Core can still do so by starting the program using &lt;code class=&quot;highlighter-rouge&quot;&gt;-assumevalid=0&lt;/code&gt;.  Anyone who wants to specify an alternative assumed valid block can specify the block identifier as a parameter to &lt;code class=&quot;highlighter-rouge&quot;&gt;assumevalid&lt;/code&gt;; for example:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-assumevalid=00000000000000000013176bf8d7dfeab4e1db31dc93bc311b436e82ab226b90
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The default assumed valid block in Bitcoin Core 0.14.0 is #453354, 16
Februrary 2017, with hash
&lt;code class=&quot;highlighter-rouge&quot;&gt;00000000000000000013176bf8d7dfeab4e1db31dc93bc311b436e82ab226b90&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;memory-sharing-between-mempool-and-utxo-db-cache&quot;&gt;Memory-sharing between mempool and UTXO DB cache&lt;/h3&gt;

&lt;p&gt;During IBD, Bitcoin Core doesn’t use it’s mempool because until you have
the most recent blocks there’s no way to verify most recently-created
transactions.  This means that the memory allocated to the mempool
has historically simply been unallocated, meaning Bitcoin Core ran with
less memory during IBD than it did normally.&lt;/p&gt;

&lt;p&gt;In Bitcoin Core 0.14.0, unused mempool memory is shared with the UTXO
database cache, which increases the number of Unspent Transaction
Outputs (UTXOs) that can be cached in fast memory rather than needing to
be stored and retrieved from a much slower disk drive.&lt;/p&gt;

&lt;h2 id=&quot;faster-relay&quot;&gt;Faster new block validation and relay&lt;/h2&gt;

&lt;p&gt;Four significant improvements in Bitcoin Core 0.14.0 will be especially interesting to miners and other users who need to receive and process new blocks as fast as possible.&lt;/p&gt;

&lt;h3 id=&quot;improved-signature-cache&quot;&gt;Improved signature cache&lt;/h3&gt;

&lt;p&gt;The first feature is an update of the signature cache to use &lt;a href=&quot;https://en.wikipedia.org/wiki/Cuckoo_hashing&quot;&gt;cuckoo hashing&lt;/a&gt;.  The signature cache allows Bitcoin Core to save (cache) the result of verifying signatures in an unconfirmed transaction so that when the same transaction appears in a new block, Bitcoin Core doesn’t need to verify the signatures again.  Because signature verification is typically the most computationally-expensive part of processing a new block, using the signature cache significantly improves the speed at which new blocks can be processed by nodes that have been online for a while.&lt;/p&gt;

&lt;p&gt;The existing signature cache in Bitcoin Core 0.13.2 and below works well for systems with fewer than eight CPU cores, but for systems with eight or more CPU cores a bottleneck (lock contention) appears that prevents the system from using all available cores as effectively as possible.  The upgrade to using cuckoo hashing to provide a “cuckoo cache” eliminates this problem and allows more cores to be used effectively.&lt;/p&gt;

&lt;p&gt;In a &lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/8895#issuecomment-256931331&quot;&gt;test&lt;/a&gt; on a system with 16 cores, a new block was able to be added (connected) to the block chain 40% faster using 0.14.0 than a previous version of Bitcoin Core.  For systems with fewer than 8 cores, there is no major performance increase, although the cuckoo cache does allow caching more signatures than before for the same amount of memory, so there can be a slight performance improvement.&lt;/p&gt;

&lt;h3 id=&quot;earlier-bip152-compactblock-relay&quot;&gt;Earlier BIP152 compactblock relay&lt;/h3&gt;

&lt;p&gt;The second feature improved in Bitcoin Core 0.14.0 is the BIP152 compactblock implementation.  The previous implementation supported both of BIP152’s two opt-in modes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;A &lt;strong&gt;low-bandwidth&lt;/strong&gt; mode that attempts to send the minimum data necessary to relay a new block, including waiting for the receiving node to request
that specific new block.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;A &lt;strong&gt;high-bandwidth&lt;/strong&gt; mode that sends new block data without waiting for the receiving node to request that specific block.  This risks sending the receiving node the same data that another node sent it—a waste of bandwidth—but helps ensure that blocks are transferred quickly.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The upgraded implementation enhances the high-bandwidth node by starting the relay of a new block before the block has been fully validated.  In the best case, removing the validation delay can allow new blocks to propagate across multiple hops on the peer-to-peer network several times faster than they could before.  In the worst case, some additional bandwidth is wasted transferring invalid blocks.  In either case, the security model remains the same since all nodes will still reject invalid blocks.&lt;/p&gt;

&lt;h3 id=&quot;p2p-code-refactor-focused-on-concurrency-and-throughput&quot;&gt;P2P code refactor focused on concurrency and throughput&lt;/h3&gt;

&lt;p&gt;The third feature improved in Bitcoin Core 0.14.0 is the entire set of P2P networking code, which has been refactored to support increased concurrency and throughput.  The concurrency improvements help allow newly-received blocks (such as BIP152 compactblocks) to be processed ahead of lower-priority traffic, ensuring that blocks are relayed and validated as fast as possible.&lt;/p&gt;

&lt;p&gt;The refactor also now allows network activity to continue in the background during message processing, notably providing an improvement in IBD speed that complements the &lt;a href=&quot;https://bitcoin.org/en/release/v0.10.0#faster-synchronization&quot;&gt;headers-first sync&lt;/a&gt; introduced in Bitcoin Core 0.10.0 (see &lt;a href=&quot;#ibd&quot;&gt;above&lt;/a&gt; for more information).&lt;/p&gt;

&lt;h3 id=&quot;mempool-saved-to-disk&quot;&gt;Mempool saved to disk&lt;/h3&gt;

&lt;p&gt;A fourth feature which helps support the signature cache and compactblocks implementations is that the memory pool (mempool) of unconfirmed transactions received by each node is now saved to disk during regular shutdown, and is then loaded back into memory when the node starts back up.&lt;/p&gt;

&lt;p&gt;Combined with compact blocks, this can save the node from having to re-download all those unconfirmed transactions when they are received in a newly-produced block.  Combined with the signature cache, this allows the node to cache the signature verification of those unconfirmed transactions so that new blocks including those transactions can be validated more quickly.&lt;/p&gt;

&lt;h2 id=&quot;fee-bump&quot;&gt;Optional fee bumping&lt;/h2&gt;

&lt;p&gt;An optional feature in Bitcoin Core 0.14.0 (disabled by default) causes all new transactions produced by the the wallet to opt-in to &lt;a href=&quot;https://en.bitcoin.it/wiki/Transaction_replacement&quot;&gt;transaction replacement&lt;/a&gt;, specifically BIP125 opt-in Replace By Fee (RBF).&lt;/p&gt;

&lt;p&gt;When this feature is enabled by starting Bitcoin Core with the &lt;code class=&quot;highlighter-rouge&quot;&gt;-walletrbf&lt;/code&gt; option, an additional RPC (&lt;code class=&quot;highlighter-rouge&quot;&gt;bumpfee&lt;/code&gt;) is made available that allows a previously-sent unconfirmed transaction to be resent with a higher fee.  Miners who support either opt-in RBF or full RBF will usually replace the lower-fee transaction with the higher-fee transaction in their queues, and the higher fee will encourage miners to mine the new version of the transaction more quickly.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;For details on all the changes made in Bitcoin Core 0.14.0, please read the &lt;a href=&quot;/en/releases/0.14.0/&quot;&gt;release notes&lt;/a&gt;. To download, please visit the &lt;a href=&quot;https://bitcoin.org/en/download&quot;&gt;download page&lt;/a&gt; or the &lt;a href=&quot;https://bitcoin.org/bin/bitcoin-core-0.14.0/&quot;&gt;files directory&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The next major planned release will be scheduled for approximately six months after the 0.14.0 release (but it will not be released until fully tested).&lt;/p&gt;

&lt;p&gt;If you are interested in contributing to Bitcoin Core, please see our &lt;a href=&quot;/en/contribute&quot;&gt;contributing page&lt;/a&gt; and the document &lt;a href=&quot;/en/faq/contributing-code/&quot;&gt;How to contribute code to Bitcoin Core&lt;/a&gt;. If you don’t know where to get started or have any other questions, please stop by either our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC&lt;/a&gt; or &lt;a href=&quot;https://slack.bitcoincore.org/&quot;&gt;Slack&lt;/a&gt; chatrooms and we’ll do our best to help you.&lt;/p&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;p&gt;These are the SHA-256 hashes of the released files:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
466adccf7352f06de35afc1627a3ea721764268ceaf08fa3641f9b47e7df091a  bitcoin-0.14.0-aarch64-linux-gnu.tar.gz
55957e2c35aa2ba836cbae7cbf945bcf489a46b243551b0f6fd86f60603032a6  bitcoin-0.14.0-arm-linux-gnueabihf.tar.gz
e4bb8b52acde07788dfcf024645fe291f0deca2b7172939fb2ddb8789fe56973  bitcoin-0.14.0-i686-pc-linux-gnu.tar.gz
e01e3cdd3c4138eccaf0c1267caa3bcdb6949ee63c1e396842b70f102fb4bcaf  bitcoin-0.14.0-osx64.tar.gz
50fea43935e93381552b6730444eed6bbe513637a785e1b864b0c5883729228c  bitcoin-0.14.0-osx.dmg
d743d4866a0d4c1457f81530c45258a8b6383d1cafc458eedcba8d01728a641e  bitcoin-0.14.0.tar.gz
95a030be5c1649023e3aa81d1cd9eabd4258f1b00f0fc51066d02126219705af  bitcoin-0.14.0-win32-setup.exe
864ef77b9b4812ec59adff04d44213a6039c66970a9ae31e8620997a8c1537bc  bitcoin-0.14.0-win32.zip
f260d52cf2fe91c4be99ed6fcf8aa0de669ff326c5da920b7ed3a3e2ec981e0a  bitcoin-0.14.0-win64-setup.exe
415693ed81cfc4960bbfcb815529003405aefbf839ef8fc901b0a2c4ef5317d0  bitcoin-0.14.0-win64.zip
06e6ceeb687e784e9aaad45e9407c7eed5f7e9c9bbe44083179287f54f0f9f2b  bitcoin-0.14.0-x86_64-linux-gnu.tar.gz
&lt;/code&gt;&lt;/p&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/03/08/release-0.14.0/&quot;&gt;Bitcoin Core 0.14.0 Released with Performance Improvements&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on March 08, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.13.2 Released]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2017/01/03/release-0.13.2/" />
        <id>en-blog-release-0.13.2</id>
        <published>2017-01-03T00:00:00+07:00</published>
        <updated>2017-01-03T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2017/01/03/release-0.13.2/</uri>
            
        </author>
        <content type="html">
            &lt;p&gt;We are please to announce the general availability of Bitcoin Core 0.13.2. This &lt;a href=&quot;/en/releases/0.13.2/&quot;&gt;release&lt;/a&gt; forms part of the regular maintenance cycle of Bitcoin Core and brings bug fixes, optimisations and improvements to the 0.13.x series.&lt;/p&gt;

&lt;p&gt;Please see the &lt;a href=&quot;/en/releases/0.13.2/&quot;&gt;release notes&lt;/a&gt; for more details.&lt;/p&gt;

&lt;h2 id=&quot;download-now&quot;&gt;Download Now&lt;/h2&gt;

&lt;p&gt;Binaries are available from the &lt;a href=&quot;https://bitcoin.org/bin/bitcoin-core-0.13.2/&quot;&gt;download directory&lt;/a&gt;. Power users can fetch and compile from the &lt;a href=&quot;https://github.com/bitcoin/bitcoin/releases/tag/v0.13.2&quot;&gt;Bitcoin Core v0.13.2 release tag&lt;/a&gt;. If downloading binaries, please ensure you check the verification hashes below and from the &lt;a href=&quot;https://bitcoin.org/en/download&quot;&gt;download page&lt;/a&gt;. If compiling from source, please check the &lt;code class=&quot;highlighter-rouge&quot;&gt;v0.13.2&lt;/code&gt; tag signature matches.&lt;/p&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;p&gt;These are the &lt;a href=&quot;https://bitcoin.org/bin/bitcoin-core-0.13.2/SHA256SUMS.asc&quot;&gt;SHA-256 hashes&lt;/a&gt; of the released files:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;eda24dcf0b9fae606eb9811f74ddba69a3287316950f3f02b3000b6b1c02b65f  bitcoin-0.13.2-aarch64-linux-gnu.tar.gz
3c460784d3ab64645d48389c467336a38da473706a69f22f39cfcce5e0f33780  bitcoin-0.13.2-arm-linux-gnueabihf.tar.gz
790e4c7ebf9f4a734d1d2b6bb5e9f5fb3f613f6f93da30fd1420c5b4115dd72f  bitcoin-0.13.2-i686-pc-linux-gnu.tar.gz
8037b25310966127c589eb419534d7763ad62c2c29b94e0a37a5c5f5d96f541a  bitcoin-0.13.2-osx64.tar.gz
dac105b49c159a3d8c9463d1f05afe4cf29ec40bbd145e8961132693b7eff953  bitcoin-0.13.2-osx.dmg
621201189c0409cb17a5073278872dcdcfff1ea147ead6958b55e94416b896d7  bitcoin-0.13.2.tar.gz
27c4be7f571050f6c361e44ca70553d4d2b555b69d568306b676734100d929e1  bitcoin-0.13.2-win32-setup.exe
4d1c26675088219d8e2204b5a9f028916d5982db860298a70b6ed08e30af2a53  bitcoin-0.13.2-win32.zip
8960defc12287dd9248b99bab02a0854c072e6a3850757036c585cbd628217bf  bitcoin-0.13.2-win64-setup.exe
e07ce2a8cc0913fb253a42073fd3b94921da7f916366dd0534f3b24cad7a733e  bitcoin-0.13.2-win64.zip
29215a7fe7430224da52fc257686d2d387546eb8acd573a949128696e8761149  bitcoin-0.13.2-x86_64-linux-gnu.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;If you are interested in contributing to Bitcoin Core, please see our &lt;a href=&quot;/en/contribute&quot;&gt;contributing page&lt;/a&gt; and the document &lt;a href=&quot;/en/faq/contributing-code/&quot;&gt;How to contribute code to Bitcoin Core&lt;/a&gt;. If you don’t know where to get started or have any other questions, please stop by either our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC&lt;/a&gt; or &lt;a href=&quot;https://slack.bitcoincore.org/&quot;&gt;Slack&lt;/a&gt; chatrooms and we’ll do our best to help you.&lt;/p&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2017/01/03/release-0.13.2/&quot;&gt;Bitcoin Core 0.13.2 Released&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on January 03, 2017.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Segregated Witness Costs and Risks]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2016/10/28/segwit-costs/" />
        <id>en-segwit-costs</id>
        <published>2016-10-28T00:00:00+07:00</published>
        <updated>2016-10-28T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2016/10/28/segwit-costs/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#introduction&quot; id=&quot;markdown-toc-introduction&quot;&gt;Introduction&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#aims&quot; id=&quot;markdown-toc-aims&quot;&gt;Aims&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#serialisation-costs&quot; id=&quot;markdown-toc-serialisation-costs&quot;&gt;Serialisation costs&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#rationale&quot; id=&quot;markdown-toc-rationale&quot;&gt;Rationale&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#future-reductions&quot; id=&quot;markdown-toc-future-reductions&quot;&gt;Future reductions&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#block-validation-costs&quot; id=&quot;markdown-toc-block-validation-costs&quot;&gt;Block validation costs&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#risk-of-introducing-bugs&quot; id=&quot;markdown-toc-risk-of-introducing-bugs&quot;&gt;Risk of introducing bugs&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#avoidance&quot; id=&quot;markdown-toc-avoidance&quot;&gt;Avoidance&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mitigation&quot; id=&quot;markdown-toc-mitigation&quot;&gt;Mitigation&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#risks-related-to-complexity-and-technical-debt&quot; id=&quot;markdown-toc-risks-related-to-complexity-and-technical-debt&quot;&gt;Risks related to complexity and technical debt&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#avoidance-1&quot; id=&quot;markdown-toc-avoidance-1&quot;&gt;Avoidance&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mitigation-1&quot; id=&quot;markdown-toc-mitigation-1&quot;&gt;Mitigation&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#risks-related-to-soft-fork-deployment&quot; id=&quot;markdown-toc-risks-related-to-soft-fork-deployment&quot;&gt;Risks related to soft-fork deployment&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#avoidance-2&quot; id=&quot;markdown-toc-avoidance-2&quot;&gt;Avoidance&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#risks-due-to-larger-blocks&quot; id=&quot;markdown-toc-risks-due-to-larger-blocks&quot;&gt;Risks due to larger blocks&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#avoidance-3&quot; id=&quot;markdown-toc-avoidance-3&quot;&gt;Avoidance&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mitigation-2&quot; id=&quot;markdown-toc-mitigation-2&quot;&gt;Mitigation&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#risks-due-to-lower-fees&quot; id=&quot;markdown-toc-risks-due-to-lower-fees&quot;&gt;Risks due to lower fees&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#avoidance-4&quot; id=&quot;markdown-toc-avoidance-4&quot;&gt;Avoidance&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mitigation-3&quot; id=&quot;markdown-toc-mitigation-3&quot;&gt;Mitigation&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#risks-related-to-long-term-scaling&quot; id=&quot;markdown-toc-risks-related-to-long-term-scaling&quot;&gt;Risks related to long term scaling&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#avoidance-5&quot; id=&quot;markdown-toc-avoidance-5&quot;&gt;Avoidance&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mitigation-4&quot; id=&quot;markdown-toc-mitigation-4&quot;&gt;Mitigation&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#alternative-approaches&quot; id=&quot;markdown-toc-alternative-approaches&quot;&gt;Alternative approaches&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#hard-forked-segwit&quot; id=&quot;markdown-toc-hard-forked-segwit&quot;&gt;Hard-forked segwit&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#simpler-segwit&quot; id=&quot;markdown-toc-simpler-segwit&quot;&gt;Simpler segwit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;This post is a companion to the earlier post on &lt;a href=&quot;/en/2016/01/26/segwit-benefits/&quot;&gt;Segregated Witness Benefits&lt;/a&gt;, giving an overview of the technical costs and risks that may be incurred by activating segregated witness via &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki&quot;&gt;BIP141&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;aims&quot;&gt;Aims&lt;/h3&gt;

&lt;p&gt;For the purpose of this post, we will use &lt;em&gt;costs&lt;/em&gt; to describe negative results that are certain to occur if segwit is deployed and activated, and &lt;em&gt;risks&lt;/em&gt; to describe negative impacts that may not happen, or changes that not everyone may consider negative.&lt;/p&gt;

&lt;p&gt;When analysing risks, we consider steps undertaken to &lt;em&gt;avoid&lt;/em&gt; the risk (that is, to minimise the chance of it occurring), and steps undertaken to &lt;em&gt;mitigate&lt;/em&gt; the risk (that is, if it does occur, how the negative impact can be minimised).&lt;/p&gt;

&lt;p&gt;This post does not attempt to produce a conclusion as to whether the benefits outweigh the costs or whether segwit should be deployed or activated, but rather to assist by providing background information to assist stakeholders in making informed decisions.&lt;/p&gt;

&lt;h2 id=&quot;serialisation-costs&quot;&gt;Serialisation costs&lt;/h2&gt;

&lt;p&gt;Transactions and block information are serialised for three main purposes:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Transmission across the peer-to-peer network;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Storage of the blockchain on disk; and&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Evaluation of block limits.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Segwit affects serialisation in two ways:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;A witness commitment is included in the coinbase transaction, adding between 38 and 47 bytes, or about 0.005% of a block.  (See &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#commitment-structure&quot;&gt;BIP 141 - commitment structure&lt;/a&gt;)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;A new transaction serialisation that includes the segregated witness data is defined (see &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#Transaction_ID&quot;&gt;BIP 141&lt;/a&gt;, or &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0144.mediawiki#Serialization&quot;&gt;BIP 144&lt;/a&gt;).  This adds an overhead of 2 bytes per transaction to allow the serialisation formats to be easily distinguished, and an overhead of 1 byte per input for the count of witness items for each input. These combine to about 1% per transaction.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The segwit transaction formats (see &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#witness-program&quot;&gt;BIP 141 - witness program&lt;/a&gt;) have the following impact when serialised:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Compared to P2PKH, P2WPKH uses 3 &lt;em&gt;fewer&lt;/em&gt; bytes (-1%) in the scriptPubKey, and the same number of witness bytes as P2PKH scriptSig.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Compared to P2SH, P2WSH uses 11 additional bytes (6%) in the scriptPubKey, and the same number of witness bytes as P2SH scriptSig.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Compared to P2PKH, P2WPKH/P2SH uses 21 additional bytes (11%), due to using 24 bytes in scriptPubKey, 3 fewer bytes in scriptSig than in P2PKH scriptPubKey, and the same number of witness bytes as P2PKH scriptSig.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Compared to P2SH, P2WSH/P2SH uses 35 additional bytes (19%), due to using 24 bytes in scriptPubKey, 11 additional bytes in scriptSig compared to P2SH scriptPubKey, and the same number of witness bytes as P2SH scriptSig.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The percentages above are based on a transaction of 180 bytes with one input and one output. These proportions remain roughly the same as the number of inputs/outputs increases, but decreases if more complicated transaction scripts (such as multisig) are in use.&lt;/p&gt;

&lt;h3 id=&quot;rationale&quot;&gt;Rationale&lt;/h3&gt;

&lt;p&gt;The transaction size overhead is due to two factors:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;using a 256 bit hash for P2WSH rather than the 160 bit hash for P2SH; and&lt;/li&gt;
  &lt;li&gt;encoding via P2SH so that old wallets that don’t support segwit can send funds that can be spent using segwit, allowing the receiver to gain segwit’s benefits.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Without these two factors, the overhead would be negligible at -3 bytes for P2WPKH and +1 bytes for P2WSH.&lt;/p&gt;

&lt;p&gt;The motivation behind the first factor is discussed under &lt;a href=&quot;/en/2016/01/26/segwit-benefits/#increased-security-for-multisig-via-pay-to-script-hash-p2sh&quot;&gt;Increased security for multisig via pay-to-script-hash (P2SH)&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The second factor is a tradeoff that individual users can make when publishing a receiving address, and users who choose P2WPKH/P2SH or P2WSH/P2SH will pay higher fees in proportion to the overhead.  This should naturally limit the impact of this overhead in the long term.&lt;/p&gt;

&lt;h3 id=&quot;future-reductions&quot;&gt;Future reductions&lt;/h3&gt;

&lt;p&gt;It is possible to make most of this overhead disappear via changes to the network and storage serialisation formats: the full serialisation can be recovered from a simple flag indicating which format is in use (P2PKH, P2WPKH, P2WPKH/P2SH, etc) along with the actual data (the pubkey and signature).  (For example, &lt;a href=&quot;https://people.xiph.org/~greg/compacted_txn.txt&quot;&gt;compacted_txn.txt&lt;/a&gt;)&lt;/p&gt;

&lt;h2 id=&quot;block-validation-costs&quot;&gt;Block validation costs&lt;/h2&gt;

&lt;p&gt;With segwit, additional processing is introduced when validating a block in order both to check the witness merkle tree, and to deal with P2SH-encoded witness transactions. This requires about five additional SHA256 hashes per transaction, an additional SHA256 per P2SH-encoded-P2WSH input, and an additional HASH160 per P2SH-encoded-P2WPKH output. This however only amounts to about six SHA256 runs over at most 4MB of data, or roughly about 24MB of SHA256 data in total, which should translate to at most an additional 15
seconds per block on a Raspberry Pi v1, or under 1/10th of a second on more capable hardware.&lt;/p&gt;

&lt;h2 id=&quot;risk-of-introducing-bugs&quot;&gt;Risk of introducing bugs&lt;/h2&gt;

&lt;p&gt;The segwit patch set is a major change to Bitcoin, and was rolled out, though not activated on the main Bitcoin network, in Bitcoin Core 0.13.0.  Any major change like this runs a variety of risks, including:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Outright bugs: mistakes can be made in design or implementation giving unexpected or harmful results. For example &lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/8525&quot;&gt;PR#8525&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;User errors: changes to the system can result in user confusion, resulting in incorrect use of the system, which in turn may lead to harmful results.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Ecosystem interactions: different parts of the Bitcoin ecosystem may have hard-coded assumptions that will be violated with the update. For example, applications that parse bitcoind’s block store will need to be updated to understand the new serialisation.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;avoidance&quot;&gt;Avoidance&lt;/h3&gt;

&lt;p&gt;In order to reduce the chances of these risks occurring when segwit is activated, the following steps have been undertaken:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Peer review: all the changes in segwit, both design and implementation, have been presented publicly and reviewed by multiple independent experts; often resulting in suggested improvements being undertaken.&lt;/p&gt;

    &lt;p&gt;Public presentations include:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.elementsproject.org/elements/segregated-witness/&quot;&gt;Elements Project&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://diyhpl.us/wiki/transcripts/scalingbitcoin/hong-kong/segregated-witness-and-its-impact-on-scalability/&quot;&gt;Scaling Bitcoin Hong Kong&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=NOYNZB5BCHM&quot;&gt;SF Bitcoin Devs&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://diyhpl.us/wiki/transcripts/scalingbitcoin/milan/segwit-lessons-learned/&quot;&gt;Scaling Bitcoin Milan&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki&quot;&gt;BIP141&lt;/a&gt;,
&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0142.mediawiki&quot;&gt;BIP142&lt;/a&gt;,
&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0143.mediawiki&quot;&gt;BIP143&lt;/a&gt;,
&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0144.mediawiki&quot;&gt;BIP144&lt;/a&gt;, and
&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki&quot;&gt;BIP145&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;Technical reviews include:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/7910&quot;&gt;PR#7910&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/8149&quot;&gt;PR#8149&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/sipa/bitcoin/pulls?utf8=%E2%9C%93&amp;amp;q=is%3Apr%20&quot;&gt;Development branch pull requests&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;/logs/2016-05-zurich-meeting-notes.html&quot;&gt;Bitcoin Core Zurich Meeting&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://petertodd.org/2016/segwit-consensus-critical-code-review&quot;&gt;Peter Todd’s review&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Test cases: as described in the &lt;a href=&quot;/en/2016/06/24/segwit-next-steps/#how-segwit-was-tested&quot;&gt;Next Steps&lt;/a&gt; post, “The combined changes to the consensus rules and the P2P networking code consist of 1,486 lines of added or modified code. The segwit patch also includes an additional 3,338 lines of added or modified code in the unit and integration tests that help ensure segwit is functioning as expected on every full build of the Bitcoin Core program.”&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Test networks: during development, segregated witness has been deployed on multiple test nets, allowing the code to be vetted, and developers from the wider ecosystem, such as block explorers and wallets, to ensure their software interoperates correctly with segregated witness. These test networks have included:
    &lt;ul&gt;
      &lt;li&gt;Elements Project – tested the concept of segregated witness implemented as a hard-fork, along with many other changes&lt;/li&gt;
      &lt;li&gt;segnet1 through segnet4 – tested implementation of segwit as a soft-fork, between January and May 2016&lt;/li&gt;
      &lt;li&gt;testnet3 – segwit activated on the standard testnet in May 2016&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Alternative implementations: the segwit BIPs have been reimplemented in &lt;a href=&quot;https://github.com/btcsuite/btcd/pull/656&quot;&gt;btcd&lt;/a&gt; (Go) and &lt;a href=&quot;https://medium.com/purse-essays/introducing-bcoin-fdfcb22dfa34&quot;&gt;Bcoin&lt;/a&gt; (Javascript), as well as in various wallets and libraries.  Independent reimplementation helps shake out unstated assumptions and ambiguities in the design, and avoid bugs that may result from them.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;mitigation&quot;&gt;Mitigation&lt;/h3&gt;

&lt;p&gt;A major factor in mitigating the impact of any bugs is that segwit is implemented as a soft-fork. This means:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Users of Bitcoin can simply avoid newly introduced features until they are personally confident they are implemented correctly, without losing any functionality.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;All valid segwit blocks are also valid blocks to pre-segwit software, so earlier versions of Bitcoin that don’t include the segwit changes, and hence don’t include any bugs introduced in those changes, can be used to verify blocks to provide a second level of assurance against the possibility of consensus regressions.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In addition, the possibility of versioning the “script” language introduces the possibility to fix bugs in the Bitcoin script language, including both pre-existing bugs as well as any potential new bugs that segwit may introduce.&lt;/p&gt;

&lt;h2 id=&quot;risks-related-to-complexity-and-technical-debt&quot;&gt;Risks related to complexity and technical debt&lt;/h2&gt;

&lt;p&gt;The concept of &lt;em&gt;technical debt&lt;/em&gt; is that an easy fix now might cause enough difficulty and problems in the long term, that spending more time and effort now will turn out to be more economical.&lt;/p&gt;

&lt;p&gt;In the context of Bitcoin, there are two types of technical debt:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ugly or complicated code, that can be refactored without impacting users or consensus; and&lt;/li&gt;
  &lt;li&gt;poor design decisions, many of which have to be retained indefinitely, as otherwise Bitcoin users would lose access to their existing coins.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;avoidance-1&quot;&gt;Avoidance&lt;/h3&gt;

&lt;p&gt;As noted above, the segwit code has been heavily reviewed, which helps resist the introduction of technical debt at both a code and design level.&lt;/p&gt;

&lt;p&gt;Also as noted above, segwit has multiple independent reimplementations, which helps discover any unnecessary complexity and technical debt at the point that it can still be avoided.&lt;/p&gt;

&lt;p&gt;In support of existing efforts to pay down technical debt by refactoring and improving the Bitcoin codebase, segwit was merged as a code-only update as part of &lt;a href=&quot;/en/meetings/2016/05/26/&quot;&gt;work towards the 0.13.0 release&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;mitigation-1&quot;&gt;Mitigation&lt;/h3&gt;

&lt;p&gt;Bitcoin already suffers from some significant design debt, and segwit is specifically designed to reduce the impact of some of this debt (notably transaction malleability, linear scaling of signature hashing, and signing of input values).&lt;/p&gt;

&lt;p&gt;The script versioning method provided by segwit provides an elegant way of allowing future soft-fork updates to further reduce design debt, including by fixing bugs in existing opcodes (such as CHECKMULTISIG), re-enabling disabled opcodes (such as CAT), or switching to superior verification methods (such as Schnorr signatures, or aggregate signatures).&lt;/p&gt;

&lt;p&gt;Generally, design debt in Bitcoin script cannot be fully paid off, as it is always possible that there are some unspent transactions paying to P2SH addresses that make use of the “ugly” functionality. Disabling those features would render those transactions unspendable, effectively stealing funds from users. Script versioning allows the “cost” of this design debt to be reduced, by partitioning such “ugly” functionality as only applicable to “old” script versions, thus allowing new development work to largely ignore the old code.&lt;/p&gt;

&lt;h2 id=&quot;risks-related-to-soft-fork-deployment&quot;&gt;Risks related to soft-fork deployment&lt;/h2&gt;

&lt;p&gt;A soft-fork is any change to Bitcoin consensus rules that invalidates some set of previously valid transaction. A poorly handled soft-fork can cause a number of problems in the Bitcoin ecosystem, and, because segwit makes the additional witness data critical to establishing Bitcoin’s distributed consensus, a poorly handled upgrade could cause the system to fail in additional ways. The primary potential failure modes include:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;making it impossible for some Bitcoin holders to spend their money&lt;/li&gt;
  &lt;li&gt;causing old nodes and upgraded nodes to have a different view of which unconfirmed transactions are valid and likely to be mined&lt;/li&gt;
  &lt;li&gt;having miners mistakenly mine blocks that are not valid under the new rules&lt;/li&gt;
  &lt;li&gt;being activated, with some actual use, then backed out&lt;/li&gt;
  &lt;li&gt;allowing large blockchain forks, due to the p2p network being effectively disconnected as a result of connections via old nodes that are unable to forward witness data&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;avoidance-2&quot;&gt;Avoidance&lt;/h3&gt;

&lt;p&gt;Numerous soft-forks have already been activated in Bitcoin (including BIPs &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0016.mediawiki&quot;&gt;16&lt;/a&gt;, &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0034.mediawiki&quot;&gt;34&lt;/a&gt;, &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0065.mediawiki&quot;&gt;65&lt;/a&gt;, &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0066.mediawiki&quot;&gt;66&lt;/a&gt;, &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0068.mediawiki&quot;&gt;68&lt;/a&gt;, &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0112.mediawiki&quot;&gt;112&lt;/a&gt;, and &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0113.mediawiki&quot;&gt;113&lt;/a&gt;), and this experience has been codified in the &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki&quot;&gt;BIP9&lt;/a&gt; process for activating soft-forks. The BIP9 process was used for deploying the CSV soft-fork (BIPs 68, 112, and 113), and resulted in a fast and unproblematic upgrade to the consensus rules for that change.&lt;/p&gt;

&lt;p&gt;The segwit design and BIP9 deployment avoids the problems listed above in the following ways:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;The new restrictions imposed by segwit only affect transactions that no one would currently make use of because:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;The affected transactions would be non-standard, and thus not relayed by the vast majority of nodes or mined by most miners.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;Any transactions that were affected would currently be considered obvious “anyone can spend” payments, and could immediately be claimed by anyone monitoring the blockchain, and therefore should have been expected to be “lost”.&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Old nodes will consider transactions spending segwit outputs as non-standard, due to apparent violation of &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0062.mediawiki&quot;&gt;BIP62&lt;/a&gt; CLEANSTACK rules, and thus won’t be included in old nodes’ mempools. Similarly, transactions with P2WPKH or P2WSH outputs (though not P2WPKH/P2WSH encoded via P2SH) will also be considered non-standard due to being a new output type.&lt;/p&gt;

    &lt;p&gt;This makes it impossible to achieve double spends of segwit outputs by relaying one transaction through old nodes and a different transaction through segwit nodes.&lt;/p&gt;

    &lt;p&gt;However, these differences may still be used to attempt a double spend, for example by combining a non-segwit output and a segwit output in a single transaction (that will only be relayed via the upgraded segwit nodes), then attempting to double-spend it via a higher fee transaction only using the non-segwit output, which may be successfully relayed via the old nodes.&lt;/p&gt;

    &lt;p&gt;These concerns only affect unconfirmed transactions in the mempool; once a transaction is confirmed and mined in a block, double spending remains impossible. Existing methods for monitoring double spends should remain equally effective, provided the monitoring tools are able to track segwit spends at all.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Ensuring miners mine valid blocks is obviously a high priority to everyone involved, and significant work has gone into guaranteeing this is the case with segwit. This includes both the direct work, under &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki&quot;&gt;BIP145&lt;/a&gt;, as well as indirect work, such as Compact Blocks (&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0152.mediawiki&quot;&gt;BIP152&lt;/a&gt;).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If the segwit soft-fork were reverted after being activated, this could allow anyone who had made segwit transactions to lose funds – for example, a malicious miner could replay the transaction on a chain without segwit enabled, at which point it would be anyone-can-spend, and the miner could then steal the funds by spending it to themselves. There are two ways in which a segwit soft-fork could be reverted after being activated while allowing theft of segwit-enabled transactions:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;Miners could abandon the segwit enabled chain and start mining from prior to segwit’s activation. Based on the &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki&quot;&gt;BIP9&lt;/a&gt; activation rules, this would require abandoning over 2016 blocks (the LOCKED IN period, plus enough blocks to ensure the 95% threshold wasn’t reached). This would require miners to abandon over 25,200 BTC in block reward, which at current prices is over $15,000,000 USD.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;Miners could simply use software that does not recognise segwit rules (such as earlier versions of Bitcoin Core) to mine blocks on top of a chain that has activated segwit. This would be a hard-fork as far as segwit-aware software is concerned, and those blocks would consequently be ignored by Bitcoin users using segwit-aware validating nodes. If there are sufficiently many users using segwit nodes, such a hard-fork would be no more effective than introducing a new alt coin.&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;As a result, neither approach seems likely.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Significant work has gone into ensuring that segwit enabled peers will form a strongly connected subgraph of the Bitcoin P2P network.  This includes providing a dedicated service bit for witness enabled nodes and preferentially connecting to such nodes.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;risks-due-to-larger-blocks&quot;&gt;Risks due to larger blocks&lt;/h2&gt;

&lt;p&gt;Segwit updates the 1MB block size limit to a 4M unit block weight limit, counting serialised witness data as one unit, and core block data as four units. As transactions that use segwit features begin to be used, this change will allow more data to be included per block (with 100% of transactions using segwit features this is expected to be about 2MB of data per block, however in the worst case could be up to 4MB of data per block). In so far as it allows a greater transaction volume, it can be expected to increase the UTXO database more quickly (with 100% of transactions using segwit features, the rate of increase might be expected to approximately double; however because segwit is a soft fork, the worst case UTXO growth is unchanged).&lt;/p&gt;

&lt;p&gt;These outcomes may have positive attributes (more volume allows more user uptake, for example), but also have possibly significant negatives:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Larger blocks may result in slower block transmission, resulting in higher orphan rates for miners – this in turn may result in lower security (less hashpower required to take over the network), or higher centralisation (larger miners being more able to reduce their orphan rate).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Larger blocks will result in higher resource requirements for full nodes, potentially causing users to shut down their nodes, which would result in higher centralisation.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Larger UTXO sets will result in higher resource requirements for miners, potentially causing miners to share validation resources, which would result in higher centralisation.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;avoidance-3&quot;&gt;Avoidance&lt;/h3&gt;

&lt;p&gt;The negative impact of larger blocks is limited in a number of ways:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Validation times of blocks have been significantly reduced thanks to deployment of libsecp256k1.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Deployment of Compact Blocks via &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0152.mediawiki&quot;&gt;BIP152&lt;/a&gt; helps limit the impact of larger blocks on block transmission, and hence orphan rates, and also reduces the bandwidth usage of full nodes.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Pruning support allows users to run full nodes without storing the entire history of the blockchain, which allows users who have constrained storage resources to continue running full nodes, even with a larger block size.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The changes to the signature hashing algorithm used by segwit signatures to avoid quadratic scaling, provides a significant reduction in cost for some large transactions.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The negative impact of increased UTXO growth is limited by:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;The deployment of segwit as a soft-fork to ensure the worst-case UTXO growth does not get any worse.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The reduced weighting of witness data to rebalance the lifecycle cost of a UTXO, reducing the cost of introducing an additional input that spends a segwit output, and therefore (relatively) increasing the cost of introducing an additional output creating a new UTXO, changing the create/spend cost ratio from about 1:4.5 to about 1:2. This should moderately reduce incentives to increase the UTXO set by both discouraging UTXO creation, and encouraging spending of UTXOs.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;mitigation-2&quot;&gt;Mitigation&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Since the maximum amount of data per block is capped at no more than four times the current rate, mitigation work to address problems that arise from large blocks should be within the bounds of relatively straightforward engineering work. Further, since the expected amount of data per block is only approximately double the current rate, this means any necessary mitigation efforts should be further eased.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;There is ongoing work to improve on-disk and network serialisation of transactions and blocks, further reducing the storage and bandwdith requirements of running a full node.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;risks-due-to-lower-fees&quot;&gt;Risks due to lower fees&lt;/h2&gt;

&lt;p&gt;The security of the Bitcoin blockchain is provided by hashpower, which is rewarded by both a fixed block reward and by fees from individual transactions. As a result, decreases in fee income have the potential to reduce the hashpower used to mine Bitcoin, which in turn may lower the security of the Bitcoin blockchain.&lt;/p&gt;

&lt;p&gt;In so far as the individual transaction fees are determined by market forces and supply and demand, the changes introduced by segwit may risk lowering prices by increasing supply (presuming that demand does not also rise, either because of or at least concurrent with segwit deployment), and lower individual prices may result in lower overall mining revenue (if the price elasticity of demand is in the inelastic range).&lt;/p&gt;

&lt;p&gt;In addition, the changes made in segwit may make “layer two” solutions, such as the Lightning Network, more compelling. If this leads to users treating layer two solutions as a substitute for on-chain transactions, this may significantly decrease demand for on-chain transactions, which would put additional downward pressure on transaction fee levels.&lt;/p&gt;

&lt;h3 id=&quot;avoidance-4&quot;&gt;Avoidance&lt;/h3&gt;

&lt;p&gt;Fees are currently approximately 0.5 BTC per block versus 12.5 BTC per block from the block subsidy, or about 4% of miner income, so the potential impact on miner income and hence network security is likely small in the short term.&lt;/p&gt;

&lt;p&gt;In addition, fees have been rising over the past twelve months both in BTC denominated value (from under 0.2 BTC per block a year ago) and in real terms (from under $300 USD per BTC a year ago, to over $600 USD per BTC today), so moderate falls in fee levels will only be equivalent to reverting to fee incomes from up to twelve months ago, which should not be a major impact.&lt;/p&gt;

&lt;h3 id=&quot;mitigation-3&quot;&gt;Mitigation&lt;/h3&gt;

&lt;p&gt;Miners are able to individually and collectively limit supply, either by individually setting a soft-limit on the maximum weight for blocks they produce (“blockmaxweight” setting, which defaults to 3M), or by collectively using a soft-fork to effectively lower the consensus limits by orphaning blocks above a particular weight. This approach has the potential to prevent any fee decreases due to increased supply (or indeed to increase individual fees by reducing supply, though that may not increase overall revenue), but cannot prevent decreases to fee income due to substitution effects (such as the adoption of layer two networks).&lt;/p&gt;

&lt;p&gt;While layer two networks may act as a substitute for on-chain transactions, they cannot avoid on-chain transactions entirely, and in some scenarios, even these comparatively few on-chain transactions from layer two networks can easily saturate the on-chain capacity with segwit enabled. Even if only a very small amount of the value of these networks are captured via on-chain transaction fees, this would likely be substantially above the current fee value.&lt;/p&gt;

&lt;h2 id=&quot;risks-related-to-long-term-scaling&quot;&gt;Risks related to long term scaling&lt;/h2&gt;

&lt;p&gt;As described above, full adoption of segwit by all transactions is expected to approximately double capacity. This provides a significant one-time increase in capacity, in either the short or medium term, depending on the speed of adoption. In addition, by adding features to enable layer two networks, some additional medium and long term scaling may be achieved. By fixing the quadratic sighash scaling bug, segwit also reduces the risk of negative impacts due to future capacity increases.&lt;/p&gt;

&lt;p&gt;Segwit does not, however, provide any direct mechanism for scaling on-chain transaction volume further other than that one-off doubling.&lt;/p&gt;

&lt;p&gt;This runs this risk that approaches to long-term scaling may be prevented or delayed: stakeholders may consider segwit to be “enough” scaling and decline to work on or support further scaling efforts.&lt;/p&gt;

&lt;h3 id=&quot;avoidance-5&quot;&gt;Avoidance&lt;/h3&gt;

&lt;p&gt;Efforts to avoid this risk have included:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Inclusion of “moderate block size increase proposals” in the &lt;a href=&quot;https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-December/011865.html&quot;&gt;2015-12-07 Capacity increases roadmap&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Inclusion of “flex caps or incentive-aligned dynamic block size controls” in the same roadmap.&lt;/li&gt;
  &lt;li&gt;Inclusion of features in segwit to make later scaling less risky, particularly &lt;a href=&quot;/en/2016/01/26/segwit-benefits/#linear-scaling-of-sighash-operations&quot;&gt;Linear scaling of sighash operations&lt;/a&gt; and &lt;a href=&quot;/en/2016/01/26/segwit-benefits/#moving-towards-a-single-combined-block-limit&quot;&gt;Moving towards a single combined block limit&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Work on techniques to use block space more efficiently, such as using &lt;a href=&quot;http://diyhpl.us/wiki/transcripts/scalingbitcoin/milan/schnorr-signatures/&quot;&gt;Schnorr signatures and signature aggregation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Research on alternative models to the blockchain, maintaining decentralisation and security, but with better scalability properties, for example &lt;a href=&quot;http://diyhpl.us/wiki/transcripts/scalingbitcoin/milan/mimblewimble/&quot;&gt;Mimblewimble&lt;/a&gt;, &lt;a href=&quot;http://diyhpl.us/wiki/transcripts/scalingbitcoin/milan/breaking-the-chain/&quot;&gt;Braiding&lt;/a&gt;, and &lt;a href=&quot;http://diyhpl.us/wiki/transcripts/scalingbitcoin/milan/jute-braiding/&quot;&gt;Jute Braiding&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Additionally, work that has made the scale increases segwit allows achievable (such as libsecp256k1 and compact blocks) have also, obviously, made further potential scale increases more achievable.&lt;/p&gt;

&lt;h3 id=&quot;mitigation-4&quot;&gt;Mitigation&lt;/h3&gt;

&lt;p&gt;Segwit does not make further scaling any more difficult on any technical level – the risk here is entirely social. As a consequence, the most effective mitigation efforts are likely also social in nature: such as by having companies who support long-term scaling commit development resources to making that happen.&lt;/p&gt;

&lt;p&gt;That segwit enables transaction volume to increase to approximately double current levels also provides the opportunity to demonstrate the actual impact of scaling, such as on node performance, decentralisation, and transaction demand, as well as the speed with which ecosystem upgrades can be undertaken. This data could reasonably be collected and used to support future scaling efforts, either by showing that some feared outcomes are less likely than expected, or by confirming valid concerns and allowing work to be focused on addressing those concerns.&lt;/p&gt;

&lt;h2 id=&quot;alternative-approaches&quot;&gt;Alternative approaches&lt;/h2&gt;

&lt;p&gt;This section provides a brief comparison with some alternative approaches to achieving some or all of the benefits of segwit, and how those different approaches might change the costs and risks involved.&lt;/p&gt;

&lt;h3 id=&quot;hard-forked-segwit&quot;&gt;Hard-forked segwit&lt;/h3&gt;

&lt;p&gt;Any hard-fork implementation of segwit would add significant new costs and risks, due to requiring all nodes to upgrade to understand the new rules prior to activation, and risking a chain fork into “old Bitcoin” and “new Bitcoin” with consequent confusion and loss of value. Due to the comparative lack of experience with hard-forks in the Bitcoin community, unexpected risks and costs might also occur, though that is obviously hard to analyse by its very nature.&lt;/p&gt;

&lt;p&gt;A hard-fork implementation of segwit could realistically be made in two ways:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;SPV-invisible: if the witness commitment was moved from the coinbase into the block transaction merkle tree, most non-validating clients and wallets would continue to work without needing an upgrade. This would save the 38-47 bytes from the coinbase transaction, but does not offer any other advantages.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;SPV-visible: if calculation of transaction hashes were changed to exclude the scriptSig, this might allow for a simpler implementation, and reduce the per-transaction overhead; however it would render all existing Bitcoin software unable to work with those transactions prior to be being updated. Additionally, separate code paths to manage old style transactions would need to be kept, increasing code complexity and the possibility of bugs.  &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0134.mediawiki&quot;&gt;BIP 134, Flexible Transactions&lt;/a&gt; presents an alternative approach at gaining some of the benefits of segwit via an SPV-visible hard-fork.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Either approach to a hard-fork would make it possible to simultaneously drastically alter the consensus limits on blocks.&lt;/p&gt;

&lt;h3 id=&quot;simpler-segwit&quot;&gt;Simpler segwit&lt;/h3&gt;

&lt;p&gt;Many of the benefits of segwit could logically be separated into independent changes, and evaluated and deployed separately. The implementation requirements for the various features are, however, closely related:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Linear scaling of sighash operations: the CHECKSIG and CHECKMULTISIG opcodes need replacement.&lt;/li&gt;
  &lt;li&gt;Signing of input values: the CHECKSIG and CHECKMULTISIG opcodes need replacement.&lt;/li&gt;
  &lt;li&gt;Increased security for multisig via P2SH: the P2SH payment format needs replacement.&lt;/li&gt;
  &lt;li&gt;Script versioning: the P2SH payment format needs replacement.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Doing these fixes independently would increase the complexity of the Bitcoin codebase due to the need to handle different features being active at different times on the blockchain; while deploying them concurrently removes this complexity.&lt;/p&gt;

&lt;p&gt;Because increasing capacity is dangerous due to the quadratic scaling of sighash operations with the existing CHECKSIG and CHECKMULTISIG opcodes, some limit on these operations needs to be in place. Since segwit only allows increased signature operations via the updated opcodes, the old opcodes remain naturally limited. In contrast if a capacity increase were applied independently, additional limits would need to be implemented to ensure the increase was safe, likely adding complexity to mining and fee calculation.&lt;/p&gt;

            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2016/10/28/segwit-costs/&quot;&gt;Segregated Witness Costs and Risks&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on October 28, 2016.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.13.1 Released with Segregated Witness]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2016/10/27/release-0.13.1/" />
        <id>en-blog-release-0.13.1</id>
        <published>2016-10-27T00:00:00+07:00</published>
        <updated>2016-10-27T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2016/10/27/release-0.13.1/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#detailed-segwit-benefits&quot; id=&quot;markdown-toc-detailed-segwit-benefits&quot;&gt;Detailed segwit benefits&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#eliminate-malleability&quot; id=&quot;markdown-toc-eliminate-malleability&quot;&gt;1. Elimination of unwanted transaction malleability&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#capacity-increase&quot; id=&quot;markdown-toc-capacity-increase&quot;&gt;2. Capacity increase&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#weight-data-by-performance&quot; id=&quot;markdown-toc-weight-data-by-performance&quot;&gt;3. Weighting data based on how it affects node performance&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#signature-covers-value&quot; id=&quot;markdown-toc-signature-covers-value&quot;&gt;4. Signature covers value&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#linear-scaling-of-sighash-operations&quot; id=&quot;markdown-toc-linear-scaling-of-sighash-operations&quot;&gt;5. Linear scaling of sighash operations&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#increased-security-for-multisig&quot; id=&quot;markdown-toc-increased-security-for-multisig&quot;&gt;6. Increased security for multisig&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#more-efficient-security&quot; id=&quot;markdown-toc-more-efficient-security&quot;&gt;7. More efficient almost-full-node security&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#script-versioning&quot; id=&quot;markdown-toc-script-versioning&quot;&gt;8. Script versioning&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#segwit-testing&quot; id=&quot;markdown-toc-segwit-testing&quot;&gt;How segwit was tested&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#null-dummy-soft-fork&quot; id=&quot;markdown-toc-null-dummy-soft-fork&quot;&gt;Null dummy soft fork&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot; id=&quot;markdown-toc-conclusion&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hashes-for-verification&quot; id=&quot;markdown-toc-hashes-for-verification&quot;&gt;Hashes for verification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;We are pleased to &lt;a href=&quot;/en/releases/0.13.1/&quot;&gt;release&lt;/a&gt; Bitcoin Core 0.13.1, which contains code miners can use to signal support for the segregated witness (segwit) soft fork and which nodes can use to validate segwit transactions if the soft fork is activated.&lt;/p&gt;

&lt;p&gt;The segwit soft fork is fully backwards compatible with all Bitcoin wallets, so you will continue to be able to safely send and receive bitcoins whether or not segwit is activated.  If you are a miner, you may need to take action if it appears that segwit will activate; for all other Bitcoin users, there is no action you need to take related to segwit now or in the future.  However, if you want to support segwit or if you want more details about the changes you may see if segwit activates, please see our &lt;a href=&quot;/en/2016/10/27/segwit-upgrade-guide/&quot;&gt;segwit upgrade guide&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Segwit timeline:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;#signal&quot; id=&quot;signal&quot;&gt;#&lt;/a&gt; Miners will be able to signal that they are willing and able to enforce segwit starting at the beginning of the first 2,016-block retarget period on or after 15 November 2016 (UTC).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;#lock-in&quot; id=&quot;lock-in&quot;&gt;#&lt;/a&gt; If 95% of blocks within any retarget period signal support for segwit, it locks-in.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;#activate&quot; id=&quot;activate&quot;&gt;#&lt;/a&gt; After another 2,016-block (roughly two week) retarget period, segwit will activate, allowing miners to produce blocks containing segwit transactions on Bitcoin’s mainnet.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;#fail&quot; id=&quot;fail&quot;&gt;#&lt;/a&gt; If segwit has not activated by the end of one retarget period after 15 November 2017, segwit will cease to be eligible for activation.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If segwit is activated, transaction-producing software will be able to separate (segregate) transaction signatures (witnesses) from the part of the data in a transaction that is covered by the txid. This provides several immediate benefits:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#eliminate-malleability&quot;&gt;Elimination of unwanted transaction malleability&lt;/a&gt;&lt;/strong&gt; for transactions that use segregated witnesses, making it easier to write Bitcoin wallet software and simplifying the design of smart contracts for Bitcoin.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#capacity-increase&quot;&gt;Capacity increase&lt;/a&gt;&lt;/strong&gt; allowing blocks to hold more transactions than before.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#weight-data-by-performance&quot;&gt;Weighting data based on how it affects node performance&lt;/a&gt;&lt;/strong&gt; so that miners are allowed to include more data in the parts of the block that don’t reduce node performance long-term.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#signature-covers-value&quot;&gt;Signature covers value&lt;/a&gt;&lt;/strong&gt; to reduce the number of steps secure signature generators (such as hardware wallets) need to perform to create a secure signature.  This makes it easier to develop hardware wallets and may significantly improve the speed of existing hardware wallets.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#linear-scaling-of-sighash-operations&quot;&gt;Linear scaling of sighash operations&lt;/a&gt;&lt;/strong&gt; to ensure that transactions using segwit can’t trigger the problem that caused a block in 2015 to take 25 seconds to validate.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#increased-security-for-multisig&quot;&gt;Increased security for multisig&lt;/a&gt;&lt;/strong&gt; so security goes from about 80 bits with P2SH to about 128 bits with segwit—which is about 281 trillion times more security against certain attacks.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#more-efficient-security&quot;&gt;More efficient almost-full-node security&lt;/a&gt;&lt;/strong&gt; to allow newly-started nodes who are willing to give up some security guarantees to build an accurate copy of the Bitcoin ledger without having to download all the data from every block.  (This is a feature made possible by segwit; it is not included in Bitcoin Core 0.13.1.)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#script-versioning&quot;&gt;Script versioning&lt;/a&gt;&lt;/strong&gt; to allow users to individually opt-in to future soft fork changes made to Bitcoin’s scripting language.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;For more information about each of the benefits above, please see the &lt;a href=&quot;#detailed-segwit-benefits&quot;&gt;detailed segwit benefits&lt;/a&gt; section below or the longer and more detailed &lt;a href=&quot;/en/2016/01/26/segwit-benefits/&quot;&gt;segwit benefits FAQ&lt;/a&gt; page on this website.&lt;/p&gt;

&lt;p&gt;For more information about upgrading for segwit, please see the &lt;a href=&quot;/en/2016/10/27/segwit-upgrade-guide/&quot;&gt;segwit upgrade guide&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;detailed-segwit-benefits&quot;&gt;Detailed segwit benefits&lt;/h2&gt;

&lt;p&gt;The following subsections describe in more detail the features that were summarized above.&lt;/p&gt;

&lt;h3 id=&quot;eliminate-malleability&quot;&gt;1. Elimination of unwanted transaction malleability&lt;/h3&gt;

&lt;p&gt;Segregating the witness allows both existing and upgraded software to calculate the transaction identifier (txid) of transactions without referencing the witness, which can sometimes be changed by third-parties (such as miners) or by co-signers in a multisig spend. This solves all known cases of unwanted transaction malleability, which is a problem that makes programming Bitcoin wallet software more difficult and which seriously complicates the design of smart contracts for Bitcoin.&lt;/p&gt;

&lt;h3 id=&quot;capacity-increase&quot;&gt;2. Capacity increase&lt;/h3&gt;

&lt;p&gt;Segwit transactions contain new fields that are not part of the data currently used to calculate the size of a block, which allows a block containing segwit transactions to hold more data than allowed by the current maximum block size.&lt;/p&gt;

&lt;p&gt;Estimates based on the transactions currently found in blocks indicate that if all wallets switch to using segwit, the network will be able to support about 70% more transactions.  The network will also be able to support more of the advanced-style payments (such as multisig) than it can support now because of the different weighting given to different parts of a transaction after segwit activates (see the following section for details).&lt;/p&gt;

&lt;h3 id=&quot;weight-data-by-performance&quot;&gt;3. Weighting data based on how it affects node performance&lt;/h3&gt;

&lt;p&gt;Some parts of each Bitcoin block need to be stored by nodes in order to validate future blocks; other parts of a block can be immediately forgotten (pruned) or used only for helping other nodes sync their copy of the block chain.&lt;/p&gt;

&lt;p&gt;One large part of the immediately prunable data are transaction signatures (witnesses), and segwit makes it possible to give a different “weight” to segregated witnesses to correspond with the lower demands they place on node resources.  Specifically, each byte of a segregated witness is given a weight of 1, each other byte in a block is given a weight of 4, and the maximum allowed weight of a block is 4 million.  Weighting the data this way better aligns the most profitable strategy for creating blocks with the long-term costs of block validation.&lt;/p&gt;

&lt;h3 id=&quot;signature-covers-value&quot;&gt;4. Signature covers value&lt;/h3&gt;

&lt;p&gt;A simple improvement in the way signatures are generated in segwit simplifies the design of secure signature generators (such as hardware wallets), reduces the amount of data the signature generator needs to download, and allows the signature generator to operate more quickly.  This is made possible by having the generator sign the amount of bitcoins they think they are spending, and by having full nodes refuse to accept those signatures unless the amount of bitcoins being spent is exactly the same as was signed.&lt;/p&gt;

&lt;p&gt;For non-segwit transactions, wallets instead had to download the complete previous transactions being spent for every payment they made, which could be a slow operation on hardware wallets and in other situations where bandwidth or computation speed was constrained.&lt;/p&gt;

&lt;h3 id=&quot;linear-scaling-of-sighash-operations&quot;&gt;5. Linear scaling of sighash operations&lt;/h3&gt;

&lt;p&gt;In 2015 a block was produced that required about 25 seconds to validate on modern hardware because of the way transaction signature hashes are performed.  Other similar blocks, or blocks that could take even longer to validate, can still be produced today.  The problem that caused this can’t be fixed in a soft fork without unwanted side-effects, but transactions that opt-in to using segwit will now use a different signature hashing method that doesn’t suffer from this problem and doesn’t have any unwanted side-effects.&lt;/p&gt;

&lt;h3 id=&quot;increased-security-for-multisig&quot;&gt;6. Increased security for multisig&lt;/h3&gt;

&lt;p&gt;Bitcoin addresses (both P2PKH addresses that start with a ‘1’ and P2SH addresses that start with a ‘3’) use a hash function known as RIPEMD-160.  For P2PKH addresses, this provides about 160 bits of security—which is beyond what cryptographers believe can be broken today.  But because P2SH is more flexible, only about 80 bits of security is provided per address.&lt;/p&gt;

&lt;p&gt;Although 80 bits is very strong security, it is within the realm of possibility that it can be broken by a powerful adversary.  Segwit allows advanced transactions to use the SHA256 hash function instead, which provides about 128 bits of security  (that is 281 trillion times as much security as 80 bits and is equivalent to the maximum bits of security believed to be provided by Bitcoin’s choice of parameters for its Elliptic Curve Digital Security Algorithm [ECDSA].)&lt;/p&gt;

&lt;h3 id=&quot;more-efficient-security&quot;&gt;7. More efficient almost-full-node security&lt;/h3&gt;

&lt;p&gt;Satoshi Nakamoto’s &lt;a href=&quot;https://bitcoin.org/bitcoin.pdf&quot;&gt;original Bitcoin paper&lt;/a&gt; describes a method for allowing newly-started full nodes to skip downloading and validating some data from historic blocks that are protected by large amounts of proof of work.  Unfortunately, Nakamoto’s method can’t guarantee that a newly-started node using this method will produce an accurate copy of Bitcoin’s current ledger (called the UTXO set), making the node vulnerable to falling out of consensus with other nodes.&lt;/p&gt;

&lt;p&gt;Although the problems with Nakamoto’s method can’t be fixed in a soft fork, segwit accomplishes something similar to his original proposal: it makes it possible for a node to optionally skip downloading some blockchain data (specifically, the segregated witnesses) while still ensuring that the node can build an accurate copy of the UTXO set for the block chain with the most proof of work.  Segwit enables this capability at the consensus layer, but note that Bitcoin Core does not provide an option to use this capability as of this 0.13.1 release.&lt;/p&gt;

&lt;h3 id=&quot;script-versioning&quot;&gt;8. Script versioning&lt;/h3&gt;

&lt;p&gt;Segwit makes it easy for future soft forks to allow Bitcoin users to individually opt-in to almost any change in the Bitcoin Script language when those users receive new transactions.  Features currently being researched by Bitcoin Core contributors that may use this capability include support for Schnorr signatures, which can improve the privacy and efficiency of multisig transactions (or transactions with multiple inputs), and Merkelized Abstract Syntax Trees (MAST), which can improve the privacy and efficiency of scripts with two or more conditions.  Other Bitcoin community members are studying several other improvements that can be made using script versioning.&lt;/p&gt;

&lt;h2 id=&quot;segwit-testing&quot;&gt;How segwit was tested&lt;/h2&gt;

&lt;p&gt;Developers from Bitcoin Core and a number of other Bitcoin projects have been testing and using one version of segwit or another since June 2015—and have been testing the final version of segwit implementation since April 2016.  A few of the development and testing milestones are described below:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;June 2015&lt;/strong&gt; saw the release of the &lt;a href=&quot;https://elementsproject.org/&quot;&gt;Elements Project sidechain&lt;/a&gt;, which included a version of segwit described as being “from scratch” because it wasn’t intended to be compatible with previous Bitcoin software as it wasn’t known how to do that at the time. This version of segwit continued to be used on Elements-based sidechains until recently, when the Elements Project switched to using the version provided by Bitcoin Core 0.13.1 because of the comprehensive testing it received as well as its compatibility with existing Bitcoin software.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;October 2015&lt;/strong&gt; was when a developer described how segwit could be implemented in Bitcoin as a soft fork.  Developers with experience developing the “from scratch” version immediately began designing a soft fork implementation that is backwards compatible with all existing Bitcoin software (although programs do need to upgrade to fully understand segwit).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;December 2015&lt;/strong&gt; ended with the launch of a special segwit-specific testnet (called segnet) that allowed implementers and testers to run segwit in a multi-user environment, and which also allowed wallet authors to test their code for generating segwit transactions. Segnet went through several iterations as problems were found and fixed, and as improvements were discovered and implemented.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;April 2016&lt;/strong&gt; opened with a pull request for segwit made to Bitcoin Core, and all Bitcoin developers from any project were encouraged to provide feedback (and many did).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;May 2016&lt;/strong&gt; marked the activation of segwit on Bitcoin’s testnet.  This provided a live integration test of Bitcoin Core’s implementation against the large variety of other software on testnet to see if it there were any problems interoperating with other software that had upgraded to segwit or whether any problems appeared in programs that had not been upgraded for segwit.  The success of this testing helped demonstrate that segwit would not cause problems for anyone (besides miners) who does not upgrade when segwit activates.  As of the Bitcoin Core 0.13.1 release, segwit has been activated for over six months on testnet with no known consensus failures.&lt;/p&gt;

    &lt;p&gt;Also in May 2016, twenty Bitcoin Core developers &lt;a href=&quot;https://bitcoincore.org/en/meetings/2016/05/20/&quot;&gt;met in Switzerland&lt;/a&gt; for (among other things) an in-person review of the segwit code and ensuring that test coverage was adequate.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;June 2016&lt;/strong&gt; saw the completion of the segwit code review, with several experienced Bitcoin developers completing their reviews and indicating support for segwit’s code changes.&lt;/p&gt;

    &lt;p&gt;Also in June was the merge of compact blocks, a peer-to-peer protocol enhancement based on developments made over the last several years in the Fast Block Relay Network.  Compact blocks allows more efficient announcements of new blocks between cooperating peers, which is expected to minimize the bandwidth and latency impact of the larger blocks allowed for by segwit.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;September 2016&lt;/strong&gt; saw adoption of Bitcoin Core 0.13.0 (containing compact blocks) starting to be used in production, with over 1,300 Bitcoin Core 0.13.0 nodes accepting incoming connections by the end of the month.  Also by the end of the month, a number of programs besides Bitcoin Core—including the btcd full node and many commonly-used mining programs—had code ready to upgrade to segwit and were actively being used to generate blocks on testnet.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;null-dummy-soft-fork&quot;&gt;Null dummy soft fork&lt;/h2&gt;

&lt;p&gt;Also in Bitcoin Core 0.13.1 and combined with the segwit soft fork is an additional change that turns a long-existing network relay policy into a consensus rule. The OP_CHECKMULTISIG and OP_CHECKMULTISIGVERIFY opcodes consume an extra stack element (“dummy element”) after signature validation. The dummy element is not inspected in any manner, and could be replaced by any value without invalidating the script.&lt;/p&gt;

&lt;p&gt;Because any value can be used for this dummy element, it’s possible for a third-party to insert data into other people’s transactions, changing the transaction’s txid (called transaction malleability) and possibly causing other problems.&lt;/p&gt;

&lt;p&gt;Since Bitcoin Core 0.10.0, nodes have defaulted to only relaying and mining transactions whose dummy element was a null value (0x00, also called OP_0). The null dummy soft fork turns this relay rule into a consensus rule both for non-segwit transactions and segwit transactions, so that this method of mutating transactions is permanently eliminated from the network.&lt;/p&gt;

&lt;p&gt;Signaling for the null dummy soft fork is done by signaling support for segwit, and the null dummy soft fork will activate at the same time as segwit.&lt;/p&gt;

&lt;p&gt;For more information, please see &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0147.mediawiki&quot;&gt;BIP147&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;For details on all the changes made in Bitcoin Core 0.13.1, please read the &lt;a href=&quot;/en/releases/0.13.1/&quot;&gt;release notes&lt;/a&gt;. To download, please visit the &lt;a href=&quot;/en/download&quot;&gt;download page&lt;/a&gt; or the &lt;a href=&quot;https://bitcoincore.org/bin/bitcoin-core-0.13.1/&quot;&gt;files directory&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Bitcoin Core 0.13.1 is the only soft fork release planned for the 0.13 release series.  The next major planned release is Bitcoin Core 0.14.0, which has feature freeze &lt;a href=&quot;https://github.com/bitcoin/bitcoin/issues/8719&quot;&gt;scheduled&lt;/a&gt; for mid-January 2017 and release to follow after all testing is completed (this typically takes more than a month in order to give everyone sufficient time to test).&lt;/p&gt;

&lt;p&gt;If you are interested in contributing to Bitcoin Core, please see our &lt;a href=&quot;/en/contribute&quot;&gt;contributing page&lt;/a&gt; and the document &lt;a href=&quot;/en/faq/contributing-code/&quot;&gt;How to contribute code to Bitcoin Core&lt;/a&gt;. If you don’t know where to get started or have any other questions, please stop by either our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC&lt;/a&gt; or &lt;a href=&quot;https://slack.bitcoincore.org/&quot;&gt;Slack&lt;/a&gt; chatrooms and we’ll do our best to help you.&lt;/p&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;p&gt;These are the SHA-256 hashes of the released files:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
cce8417f27953bf01daf4a89de8161d70b88cc3ce78819ca70237b27c944aa55  bitcoin-0.13.1-aarch64-linux-gnu.tar.gz
e84620f51e530c6f7d2b4f47e26df3f365009b2f426f82f6ca3bc894c7cdcb46  bitcoin-0.13.1-arm-linux-gnueabihf.tar.gz
63a5f3e602b8640c5320c402f04379d2f452ea14d2fe84277a5ce95c9ff957c4  bitcoin-0.13.1-i686-pc-linux-gnu.tar.gz
499be4f48c933d92c43468ee2853dddaba4af7e1a17f767a85023b69a21b6e77  bitcoin-0.13.1-osx64.tar.gz
ca063833ffcfe9ac5c8f0e213a39b90132f32eb408e675c1e40eeaf3fcb0404f  bitcoin-0.13.1-osx.dmg
d8edbd797ff1c8266113e54d851a85def46ab82389abe7d7bd0d2827e74cecd7  bitcoin-0.13.1.tar.gz
a7d1d25bbc46b4f0fe333f7d3742c22defdba8db9ffd6056770e104085d24709  bitcoin-0.13.1-win32-setup.exe
fcf6089fc013b175e3c5e32580afb3cb4310c62d2e133e992b8a9d2e0cbbafaa  bitcoin-0.13.1-win32.zip
c1726ccc50635795c942c7d7e51d979c4f83a3d17f8982e9d02a114a15fef419  bitcoin-0.13.1-win64-setup.exe
3956daf2c096c4002c2c40731c96057aecd9f77a559a4bc52b409cc13d1fd3f2  bitcoin-0.13.1-win64.zip
2293de5682375b8edfde612d9e152b42344d25d3852663ba36f7f472b27954a4  bitcoin-0.13.1-x86_64-linux-gnu.tar.gz
&lt;/code&gt;&lt;/p&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2016/10/27/release-0.13.1/&quot;&gt;Bitcoin Core 0.13.1 Released with Segregated Witness&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on October 27, 2016.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Segregated Witness Upgrade Guide]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2016/10/27/segwit-upgrade-guide/" />
        <id>en-segwit-upgrade-guide</id>
        <published>2016-10-26T00:00:00+07:00</published>
        <updated>2016-10-26T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2016/10/27/segwit-upgrade-guide/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#miners&quot; id=&quot;markdown-toc-miners&quot;&gt;Miners&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#upgrading&quot; id=&quot;markdown-toc-upgrading&quot;&gt;Upgrading&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#not-upgrading&quot; id=&quot;markdown-toc-not-upgrading&quot;&gt;Not upgrading&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#full-node-users&quot; id=&quot;markdown-toc-full-node-users&quot;&gt;Full node users&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#upgrading-1&quot; id=&quot;markdown-toc-upgrading-1&quot;&gt;Upgrading&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#not-upgrading-1&quot; id=&quot;markdown-toc-not-upgrading-1&quot;&gt;Not upgrading&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#wallet-users&quot; id=&quot;markdown-toc-wallet-users&quot;&gt;Wallet users&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#upgrading-2&quot; id=&quot;markdown-toc-upgrading-2&quot;&gt;Upgrading&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#not-upgrading-2&quot; id=&quot;markdown-toc-not-upgrading-2&quot;&gt;Not upgrading&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#bitcoin-software-developers&quot; id=&quot;markdown-toc-bitcoin-software-developers&quot;&gt;Bitcoin software developers&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;Almost two years of iterative design, development, and testing has gone into the version of segwit being released in Bitcoin Core 0.13.1, with much of the effort over the last year focused on making it as easy as possible for existing Bitcoin users, businesses, developers, and miners to upgrade to segwit.&lt;/p&gt;

&lt;p&gt;Initial segwit adoption requires the participation of two groups:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#miners&quot;&gt;Miners&lt;/a&gt;&lt;/strong&gt; representing 95% or more of the total Bitcoin network hash rate must signal support for segwit in order to  lock-in segwit’s activation.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;#full-node-users&quot;&gt;Full nodes&lt;/a&gt;&lt;/strong&gt; run by a reasonable number of users and business to validate the payments they receive need to be upgraded to Bitcoin Core 0.13.1 or above, or another segwit-compatible implementation in order to incentivize miners to follow segwit’s rules after segwit activates.  (This is Bitcoin’s normal incentivization mechanism where miners only receive income for generating a block if they follow all of the consensus rules, which will include the new segwit consensus rules once segwit activates.)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The segwit soft fork has been designed to allow individuals in both groups to voluntarily decide whether or not they want to adopt segwit, and guides are provided below for both those who want to adopt segwit and those who don’t.&lt;/p&gt;

&lt;p&gt;If enough miners do decide to adopt segwit, it will eventually activate and wallet users will be able to begin creating transactions with segregated witnesses.  The segwit soft fork has also been designed to be both backwards and forwards compatible with all commonly-used wallets, so wallet developers and users can also independently decide whether they want to adopt segwit or continue making transactions without segregated witnesses.  Guides are provided below for both adopting and non-adopting &lt;a href=&quot;#bitcoin-software-developers&quot;&gt;developers&lt;/a&gt; and &lt;a href=&quot;#wallet-users&quot;&gt;users&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In addition to instructions, the end of each guide section below also provides a short list of recommended places to ask any segwit-related questions you may have.&lt;/p&gt;

&lt;h2 id=&quot;miners&quot;&gt;Miners&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;This section is written for solo miners and mining pool operators.  Pool miners should contact their pool operators for information about what they need to do (if anything) to upgrade or not upgrade to segwit.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The BIP9 soft fork deployment mechanism is being used for segwit—the same mechanism used for the BIP 68/112/113 soft fork that activated on 4 July 2016.  Whether you wish to upgrade or not, you should understand the important stages of the upgrade process:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Started:&lt;/strong&gt; Segwit will be in the &lt;em&gt;started&lt;/em&gt; stage from the beginning of the first retarget period on or after 15 November 2016 until it either activates or is considered failed (under BIP9’s policy) after one year of not reaching locked-in.  During this time, miners who are willing and able to enforce segwit’s new consensus rules will be signaling their intent to do so by placing bit 1 in the block header versionbits field.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Locked-in:&lt;/strong&gt; if 95% of blocks during a 2,016-block retarget period signal support for segwit, the segwit soft-fork will be &lt;em&gt;locked-in&lt;/em&gt; with &lt;em&gt;activation&lt;/em&gt; scheduled for 2,016 blocks later (about two weeks).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Activated:&lt;/strong&gt; after the completion of the &lt;em&gt;locked-in&lt;/em&gt; period, the miners who signaled readiness to enforce segwit will begin producing segwit-style blocks that contain transactions with segregated witnesses.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;upgrading&quot;&gt;Upgrading&lt;/h3&gt;

&lt;p&gt;The BIP9 parameters for the segwit soft fork allow miners to begin signaling their support for it at the beginning of the first retarget period on or after 15 November 2016.  To signal support, you will need to do the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Upgrade the full node you use for transaction selection and block construction to Bitcoin Core 0.13.1+ or another segwit-compatible full node.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Upgrade your mining software, mining pool software, or both to a segwit-compatible version.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Begin producing blocks containing segwit’s BIP9 versionbit, which is bit 1.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When segwit is activated, you will want to be able to mine and relay segwit-style blocks.  The following mining software has been upgraded to support segwit.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Full nodes:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://bitcoin.org/en/download&quot;&gt;Bitcoin Core&lt;/a&gt; 0.13.1 or later&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://bitcoinknots.org/&quot;&gt;Bitcoin Knots&lt;/a&gt; 0.13.1 or later&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/btcsuite/btcd/pull/656&quot;&gt;Btcd&lt;/a&gt;*&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Mining software:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/luke-jr/bfgminer&quot;&gt;BFGMiner&lt;/a&gt;*&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/ckolivas/cgminer&quot;&gt;CGMiner&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/bitcoin/libblkmaker/pull/6&quot;&gt;libblkmaker&lt;/a&gt;*&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Pool software:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://bitbucket.org/ckolivas/ckpool&quot;&gt;ckpool&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/luke-jr/eloipool&quot;&gt;Eloipool&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/slush0/stratum-mining/pull/16&quot;&gt;Stratum-Mining&lt;/a&gt;*&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Relay software:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://bitcoinfibre.org/&quot;&gt;Bitcoin FIBRE&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Please note that software that supports the GetBlockTemplate (GBT) RPC must be upgraded to support the BIP9 and BIP145 changes to GBT.  All the programs linked above that support GBT have been upgraded.&lt;/p&gt;

&lt;p&gt;Segwit is already activated and enforced on testnet, so you may find it useful to test your infrastructure upgrade by mining with some small amount of hashrate on testnet.  Alternatively, Bitcoin Core 0.13.1’s regression test mode (regtest) also supports segwit by default.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Questions?&lt;/strong&gt; Solo miners and pool operators are welcome to ask for help in #bitcoin-mining on irc.freenode.net.  Pool miners should contact their pool operators for any questions about the pool’s policies regarding segwit.&lt;/p&gt;

&lt;h3 id=&quot;not-upgrading&quot;&gt;Not upgrading&lt;/h3&gt;

&lt;p&gt;This section describes what you can do as a miner if you don’t want to enforce segwit.&lt;/p&gt;

&lt;p&gt;During the &lt;em&gt;started&lt;/em&gt; phase, if you don’t want to adopt segwit, you may simply refuse to upgrade to a segwit-compatible full node such as Bitcoin Core 0.13.1 or above, as well as avoiding any mining software that assumes you want to set segwit’s versionbit of bit 1.&lt;/p&gt;

&lt;p&gt;If segwit reaches &lt;em&gt;locked-in&lt;/em&gt;, you still don’t need to upgrade, but upgrading is strongly recommended.  The segwit soft fork does not require you to produce segwit-style blocks, so you may continue producing non-segwit blocks indefinitely.  However, once segwit activates, it will be possible for other miners to produce blocks that you consider to be valid but which every segwit-enforcing node rejects; if you build any of your blocks upon those invalid blocks, your blocks will be considered invalid too.&lt;/p&gt;

&lt;p&gt;For this reason, after segwit reaches &lt;em&gt;locked-in&lt;/em&gt;, it is recommended that you either upgrade your full node to Bitcoin Core 0.13.1 or later (or a compatible full node), or that you follow the “not upgrading” instructions in the Full Node section below to use Bitcoin Core 0.13.1 or later as a filter for your pre-segwit software.&lt;/p&gt;

&lt;h2 id=&quot;full-node-users&quot;&gt;Full node users&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;This section is written for anyone operating a full node, including both businesses and individuals.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Full nodes prevent their users from accepting any blocks that violate any of Bitcoin’s consensus rules.  In a soft fork upgrade such as segwit, new rules are added, and any nodes that don’t upgrade won’t know about those new rules.  This is not a problem: the segwit soft fork is designed to allow non-upgraded users to continue using Bitcoin the same way they did before the soft fork.&lt;/p&gt;

&lt;p&gt;However, anyone who wants to use the features enabled by the segwit soft fork will want to know that a sufficient number of full node users have upgraded their nodes to refuse blocks and transactions that violate the segwit rules, thereby providing a strong incentive for miners to follow segwit’s updated consensus rules.&lt;/p&gt;

&lt;p&gt;This system has worked well in the past, with at least 25% of reachable nodes (and usually 50% or more) upgraded before each of the previous several soft forks activated (not counting the BIP50 emergency and temporary soft fork).  There is no reason to expect any differently for the segwit soft fork, and upgrading is an easy way for people who support segwit to help encourage its adoption.  Those who are uninterested in segwit may, of course, simply not upgrade.  Details for both cases are described below.&lt;/p&gt;

&lt;h3 id=&quot;upgrading-1&quot;&gt;Upgrading&lt;/h3&gt;

&lt;p&gt;To upgrade to a segwit-compatible release, download a segwit-compatible version of your full node software (such as the &lt;a href=&quot;https://bitcoin.org/en/download&quot;&gt;Bitcoin Core 0.13.1 release&lt;/a&gt;), ensure that the files you downloaded are legitimate (using PGP or another method), stop the old version of your node software, and start the new version of the software. Note that if you upgrade after segwit has activated, your node will need to download and resync blocks from the activation point forward, since the old version did not download them completely.&lt;/p&gt;

&lt;p&gt;You may use the Bitcoin Core RPC &lt;code class=&quot;highlighter-rouge&quot;&gt;getblockchaininfo&lt;/code&gt; to track the status of the segwit soft fork (labeled &lt;code class=&quot;highlighter-rouge&quot;&gt;segwit&lt;/code&gt; in the list of BIP9-style soft forks).  This information includes how many recent blocks have been produced by miners signaling their intention to enforce segwit’s new consensus rules.  The results from the &lt;code class=&quot;highlighter-rouge&quot;&gt;getblockchaininfo&lt;/code&gt; RPC will also let you determine when segwit’s soft fork has become locked in (meaning it will activate within the next 2,016 blocks) and activated (meaning it is now enforced by miners).&lt;/p&gt;

&lt;p&gt;The wallet provided with Bitcoin Core 0.13.1 will continue to only generate non-segwit P2PKH addresses for receiving payment by default.  Later releases are expected to allow users to choose to receive payments to segwit addresses.&lt;/p&gt;

&lt;p&gt;If you’re a developer or expert user who wants to generate addresses for testing, please see the &lt;a href=&quot;/en/segwit_wallet_dev/&quot;&gt;segwit dev guide&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Questions?&lt;/strong&gt; If you use Bitcoin Core as your full node, please see the &lt;a href=&quot;https://bitcoin.org/en/bitcoin-core/help&quot;&gt;Get Help&lt;/a&gt; page on Bitcoin.org for various support options.  If you use another full node, the best place to ask is wherever users of your full node software go for support.  The maintainers of your software will be familiar with the idea behind segwit at the very least, and they will be able to tell you when it will be implemented and how it will affect you.&lt;/p&gt;

&lt;h3 id=&quot;not-upgrading-1&quot;&gt;Not upgrading&lt;/h3&gt;

&lt;p&gt;If you don’t want to upgrade to segwit and you aren’t a miner, you may simply continue using your current full node software.  Segwit is implemented as a soft fork, so you don’t need to upgrade.  You also don’t need to upgrade any wallets that connect to your full node; they will continue working as they did before (see the &lt;a href=&quot;#wallet-users&quot;&gt;wallet section&lt;/a&gt; below for details).&lt;/p&gt;

&lt;p&gt;However, if you accept transactions with fewer blocks of confirmation (such as a single block or two), please note that after a soft fork activates, there is a small increased risk that full nodes which don’t upgrade will temporarily accept invalid blocks.  The situation will resolve itself within a few blocks as upgraded miners continue to enforce the new segwit consensus rules, but there is no guarantee that transactions shown as confirmed in the invalid block will continue to be confirmed in valid blocks.&lt;/p&gt;

&lt;p&gt;The easiest way to prevent this problem is to upgrade to Bitcoin Core 0.13.1 or later, or another full node release that is compatible with the segwit soft fork.  If you still don’t wish to upgrade, it is possible to use a newer Bitcoin Core release as a filter for older Bitcoin Core releases.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/filtering-by-upgraded-node.svg&quot; alt=&quot;Filtering by an upgraded node&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In this configuration, you set your current Bitcoin Core node (which we’ll call the “older node”) to connect exclusively to a node running Bitcoin Core 0.13.1 or later (which we’ll call the “newer node”).  The newer node is connected to the Bitcoin P2P network as usual.  Because the newer node knows about the segwit changes to the consensus rules, it won’t relay invalid blocks or transactions to the older node—but it will relay everything else.&lt;/p&gt;

&lt;p&gt;When using this configuration, please note that the older node, if it uses Bitcoin Core defaults, will not see transactions using segwit features until those transactions are included in a block.&lt;/p&gt;

&lt;p&gt;Configuration:&lt;/p&gt;

&lt;p&gt;For the newer node, start it normally and let it sync the blockchain.  At present, you cannot use a pruned node for this purpose because pruned nodes will not act as relay nodes.  You may optionally start the newer node with either or both of the following command line parameters so that it treats the older node as special (these options may also be placed in Bitcoin Core’s configuration file):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  -whitebind=&amp;lt;addr&amp;gt;
       Bind to given address and whitelist peers connecting to it. Use
       [host]:port notation for IPv6

  -whitelist=&amp;lt;netmask&amp;gt;
       Whitelist peers connecting from the given netmask or IP address. Can be
       specified multiple times. Whitelisted peers cannot be DoS banned
       and their transactions are always relayed, even if they are
       already in the mempool, useful e.g. for a gateway
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;For the older node, first wait for the newer node to finish syncing the blockchain and then restart the older node with the following command line parameter (this may also be placed in the Bitcoin Core configuration file):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-connect=&amp;lt;IP_address_or_DNS_name_of_newer_node&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;For example,&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-connect=192.168.8.8
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This will cause the older node to only connect to the newer node so that all blocks and transactions are filtered by the newer node.&lt;/p&gt;

&lt;h2 id=&quot;wallet-users&quot;&gt;Wallet users&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;This section is written for anyone using a lightweight wallet, a web wallet, a wallet connected to a personal full node, or any other wallet.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;upgrading-2&quot;&gt;Upgrading&lt;/h3&gt;

&lt;p&gt;If you do want to upgrade to segwit, you will first need to wait for miners to activate segwit, and then you will need a wallet that supports receiving and spending segwit-style payments.  This applies to Bitcoin Core’s wallet, lightweight wallets, and wallets where third-parties send and receive bitcoins on your behalf (sometimes called web wallets).  Users of Bitcoin Core or other full nodes should also read the section above about full nodes.&lt;/p&gt;

&lt;p&gt;After your wallet is upgraded to support segwit, it will generate receiving addresses that start with a ‘3’ (a P2SH address).  Some wallets have been generating P2SH addresses for years, so this may not be a change for you.&lt;/p&gt;

&lt;p&gt;All commonly used wallets are able to pay P2SH addresses, so you will be able to receive payments from any common wallet, whether or not they have upgraded to segwit.  When spending your bitcoins after the upgrade to segwit, you will still be able to pay the original type of Bitcoin addresses that start with a ‘1’ (a P2PKH address) as well as being able to pay other users of P2SH addresses.&lt;/p&gt;

&lt;p&gt;When spending your bitcoins with a segwit wallet, you will notice the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;When spending only bitcoins you received before upgrading, you should notice no difference to transactions you created before upgrading.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;When spending bitcoins you received after upgrading to segwit to someone who has not upgraded to segwit, they may not see your transaction until after it is included in a block.  This is a safety feature that avoids showing them transactions their wallet doesn’t entirely understand until those transactions have confirmed.  After the transaction confirms, they will be able to see and spend the bitcoins you sent them like normal.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;When spending bitcoins you received to your new P2SH addresses after upgrading, you may notice that the transaction fee you pay is slightly lower than when spending non-segwit payments you previously received.  This is because the part of the transaction that contains your signature (the “witness”) doesn’t need to be accessed quickly by Bitcoin full nodes, so segwit allows miners to store up to 4 times as many witness bytes in a block as they store non-witness bytes.  This better aligns the cost of creating a block (and thus its transaction fees) with the actual costs of operating a full node.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Questions?&lt;/strong&gt; If you have any questions, the best place to ask is wherever users of your wallet go for support.  The maintainers of your wallet will be familiar with the ideas behind segwit, and they will be able to tell you if segwit will be implemented for your wallet, when that might happen, and how it will affect your usage of your wallet.&lt;/p&gt;

&lt;h3 id=&quot;not-upgrading-2&quot;&gt;Not upgrading&lt;/h3&gt;

&lt;p&gt;If you don’t want to upgrade to segwit, you may simply continue to use any wallet that has not added segwit support.  Even though you haven’t upgraded, you will be able to transact with both users who have upgraded to segwit and users who, like you, haven’t upgraded to segwit.&lt;/p&gt;

&lt;p&gt;If you don’t upgrade, you may experience one difference: if someone who has upgraded to segwit pays you, your wallet may not show you the payment until after it has been included in a block.  This is a safety feature that prevents your wallet from seeing transactions it doesn’t completely understand until they’ve been confirmed by a miner.&lt;/p&gt;

&lt;h2 id=&quot;bitcoin-software-developers&quot;&gt;Bitcoin software developers&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;This section is written for developers of any Bitcoin software that processes transactions or blocks.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;All Bitcoin software (including mining software, provided it only selects transactions that follow the default relay policy) should continue working as before, and you will only need to upgrade your software if you want to take advantage of segwit’s new features.&lt;/p&gt;

&lt;p&gt;Segwit is described for developers in the following documents:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;/en/segwit_wallet_dev/&quot;&gt;Segwit wallet developers guide&lt;/a&gt;:&lt;/strong&gt; a summary description of everything you need to know to upgrade your wallet to support segwit.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki&quot;&gt;BIP141&lt;/a&gt; Segregated witness (consensus layer):&lt;/strong&gt; developers seeking to implement any aspect of segwit should read the Specification section of this document.  Developers of mining and full node software will find the BIP9 parameters for segwit in the Deployment section.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0143.mediawiki&quot;&gt;BIP143&lt;/a&gt; Transaction signature verification for version 0 witness program:&lt;/strong&gt; developers of any software that wish to create or verify segwit signatures should read the Specification section of this document and are recommend to use the Example section for testing.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0144.mediawiki&quot;&gt;BIP144&lt;/a&gt; Segregated witness (peer services):&lt;/strong&gt; developers seeking to send or receive segregated witnesses over the Bitcoin P2P network should read the Specification section of this document.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki&quot;&gt;BIP145&lt;/a&gt; getblocktemplate updates for segregated witness:&lt;/strong&gt; developers of mining and other software that produce or use the GetBlockTemplate RPC should read BIP145 and the related GBT changes in &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki&quot;&gt;BIP9&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0147.mediawiki&quot;&gt;BIP147&lt;/a&gt; Dealing with dummy stack element malleability:&lt;/strong&gt; developers of wallets and especially new transaction scripts should be aware of this new consensus rule that mirrors a long-existing default network relay policy in forbidding passing anything besides the &lt;code class=&quot;highlighter-rouge&quot;&gt;OP_0&lt;/code&gt; “null” opcode as the “dummy” parameter to a checkmultisig-style opcode.  After segwit is activated, this new consensus rule will apply to both transactions that use segwit and those that don’t.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;/en/2016/06/08/version-bits-miners-faq/&quot;&gt;VersionBits FAQ&lt;/a&gt;:&lt;/strong&gt; miners and developers of mining software should read
this FAQ for information about setting their versionbits to signal
support for soft forks.  Segwit uses bit 1 for versionbits.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Please note, &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0142.mediawiki&quot;&gt;BIP142&lt;/a&gt; (address format for segregated witness) is in &lt;em&gt;deferred&lt;/em&gt; status (as defined by BIP1) and is not proposed as a standard.  Instead, wallet developers are invited to discuss on the &lt;a href=&quot;http://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev&quot;&gt;bitcoin-dev mailing list&lt;/a&gt; the creation of a new Bitcoin address format that will be more usable than current base58check-encoded addresses.&lt;/p&gt;

&lt;p&gt;Most implementation details for BIPs 141, 143, 144, and 145 may be found in &lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/8149&quot;&gt;Bitcoin Core PR#8149&lt;/a&gt;.  The implementation for BIP147 may be found in &lt;a href=&quot;https://github.com/bitcoin/bitcoin/pull/8636&quot;&gt;Bitcoin Core PR#8636&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For testing changes on a segwit-enabled network, testnet (testnet3) has supported segwit for several months now and includes a large number of segwit blocks, including blocks that have very nearly the maximum block size allowed for by segwit.  Bitcoin Core’s regression-testing (regtest) mode also supports segwit by default in Bitcoin Core 0.13.0 and 0.13.1.&lt;/p&gt;

&lt;p&gt;A number of free and open source software Bitcoin wallets and packages besides Bitcoin Core have also already added segwit compatibility or have segwit-compatible code ready to deploy, so you may be able to use their code changes as an example for updating your software if their copyright license is compatible with your code.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Questions?&lt;/strong&gt; Bitcoin development questions may be asked in the #bitcoin-dev IRC chatroom on irc.freenode.net.  Questions may also be asked on Bitcoin.StackExchange.com and the BitcoinTalk.org &lt;a href=&quot;https://bitcointalk.org/index.php?board=6.0&quot;&gt;technical discussion board.&lt;/a&gt;&lt;/p&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2016/10/27/segwit-upgrade-guide/&quot;&gt;Segregated Witness Upgrade Guide&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on October 26, 2016.&lt;/p&gt;
        </content>
    </entry>
    
    
    <entry>
        <title type="html"><![CDATA[Bitcoin Core 0.13.0 Released!]]></title>
        <link rel="alternate" type="text/html" href="https://bitcoincore.org/en/2016/08/23/release-0.13.0/" />
        <id>en-blog-release-0.13.0</id>
        <published>2016-08-23T00:00:00+07:00</published>
        <updated>2016-08-23T00:00:00+07:00</updated>
        <author>
            <name>Bitcoin Core</name>
            <uri>https://bitcoincore.org/en/2016/08/23/release-0.13.0/</uri>
            
        </author>
        <content type="html">
            &lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
  &lt;header&gt;
    
    &lt;h3 class=&quot;toc-header&quot;&gt;&lt;i class=&quot;fa fa-book&quot;&gt;&lt;/i&gt; Overview&lt;/h3&gt;
  &lt;/header&gt;
&lt;div class=&quot;toc-drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#preparation-for-segregated-witness&quot; id=&quot;markdown-toc-preparation-for-segregated-witness&quot;&gt;Preparation for segregated witness&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#compact-block-relay&quot; id=&quot;markdown-toc-compact-block-relay&quot;&gt;Compact block relay&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#fee-filtering&quot; id=&quot;markdown-toc-fee-filtering&quot;&gt;Fee filtering&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#bip32-hd-wallet-support&quot; id=&quot;markdown-toc-bip32-hd-wallet-support&quot;&gt;BIP32 HD wallet support&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#more-intelligent-transaction-selection-for-mining&quot; id=&quot;markdown-toc-more-intelligent-transaction-selection-for-mining&quot;&gt;More intelligent transaction selection for mining&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#official-builds-for-linux-on-arm&quot; id=&quot;markdown-toc-official-builds-for-linux-on-arm&quot;&gt;Official builds for Linux on ARM&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conclusion&quot; id=&quot;markdown-toc-conclusion&quot;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hashes-for-verification&quot; id=&quot;markdown-toc-hashes-for-verification&quot;&gt;Hashes for verification&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;p&gt;We’re pleased to &lt;a href=&quot;https://lists.linuxfoundation.org/pipermail/bitcoin-core-dev/2016-August/000018.html&quot;&gt;announce&lt;/a&gt; the official release of Bitcoin Core 0.13.0.  During the six-month development cycle leading to this release, &lt;a href=&quot;/en/releases/0.13.0/#credits&quot;&gt;dozens of contributors&lt;/a&gt; have made &lt;a href=&quot;/en/releases/0.13.0/#change-log&quot;&gt;hundreds of notable improvements&lt;/a&gt; to Bitcoin Core.  Among the many upgrades available in this release, the following may be especially interesting to miners, node operators, and wallet users:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Preparation for segregated witness&lt;/strong&gt; to increase capacity, eliminate unwanted transaction malleability, and enable new ways to upgrade Bitcoin’s Script language using soft forks.  The code in this release prepares for segwit only; it does not support segwit on mainnet, so users who want segwit support will need to upgrade to a future version.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Compact block relay&lt;/strong&gt; on the peer-to-peer network to eliminate a major source of redundant data transfer among nodes that relay transactions, as well as reduce the peak amount of bandwidth those nodes use when downloading newly-generated blocks.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Fee-based filtering&lt;/strong&gt; to eliminate another source of unnecessary data transfer on the peer-to-peer network by allowing nodes to skip relaying any unconfirmed low-fee transactions that they know their peers would ignore anyway.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;BIP32 HD wallet support&lt;/strong&gt; in Bitcoin Core’s built-in wallet to allow users to backup every private key they will ever generate with the wallet rather than the old default of just the next 100 private keys.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Child Pays For Parent (CPFP) transaction selection&lt;/strong&gt; to allow miners to mine more profitably (when possible) and give users the ability to incentivize mining of selected transactions in cases where the users can’t increase transaction fees directly.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Official Bitcoin Core binary executables for ARM chipsets used with Linux&lt;/strong&gt; to allow users of those platforms to take advantage of pre-built software secured by the Gitian deterministic building and multiple attestation process.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For a more comprehensive list of the changes made in Bitcoin Core 0.13.0, please see the &lt;a href=&quot;/en/releases/0.13.0/&quot;&gt;release notes&lt;/a&gt;.  The improvements listed above are described in more detail below.&lt;/p&gt;

&lt;h2 id=&quot;preparation-for-segregated-witness&quot;&gt;Preparation for segregated witness&lt;/h2&gt;

&lt;p&gt;The most significant code change made in Bitcoin Core 0.13.0 is the inclusion of the segregated witness (segwit) code in preparation for an upcoming soft fork.  Please note that this release will not activate segwit, and if segwit is activated, this release will not act any differently, so those who want to use or enforce segwit will need to upgrade to a later release that does contain the activation mechanism.&lt;/p&gt;

&lt;p&gt;By including the segwit code in Bitcoin Core 0.13.0, users gain several advantages:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Easier upgrade to segwit:&lt;/strong&gt; The code differences (“diff”) from this release to a subsequent release that includes segwit will be small.  This allows users who modify their version of Bitcoin Core to easily convert any modifications they make to Bitcoin Core 0.13.0 to the release that contains segwit (which is expected to be 0.13.1).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Easier segwit testing:&lt;/strong&gt; Although this release won’t run segwit code on mainnet, it does run the code on testnet and in regression testing mode (regtest), which makes it easy for developers, administrators, and testers to use segwit in a safe environment with a version of Bitcoin Core that will be very close to the first version that is ready for miners to activate segwit.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Full integration with other features:&lt;/strong&gt; all the other features included in this release – such as feefiltering, compact block relay, child-pays-for-parent mining, and official binaries for Linux on ARM – are integrated with the segwit code and will probably be in production for two or more months before segwit activates, providing extra time for potential problems to be discovered through community review and
testing.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;More information:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/en/releases/0.13.0/#segregated-witness&quot;&gt;Release notes&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2016/06/24/segwit-next-steps/&quot;&gt;Segregated Witness: the next steps&lt;/a&gt; BitcoinCore.org blog post&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki&quot;&gt;BIP141: Segregated witness (consensus layer)&lt;/a&gt;, technical information about segwit and where the activation parameters for segwit will be published.  See also BIPs &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0143.mediawiki&quot;&gt;143&lt;/a&gt;, &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0144.mediawiki&quot;&gt;144&lt;/a&gt;, and &lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki&quot;&gt;145&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;compact-block-relay&quot;&gt;Compact block relay&lt;/h2&gt;

&lt;p&gt;Prior to Bitcoin Core 0.13.0, a running full node would (by default) receive many transactions twice:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Before the transaction was confirmed, as an individual transaction being relayed across the network.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;After the transaction was confirmed, as part of a group of transactions contained in a newly-mined block being relayed across the network.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;There’s no need for the node to receive the transaction a second time if it still has the first copy. Compact block relay (BIP152) can eliminate this redundancy by allowing a node to receive from its peers an ordered list of what transactions are included in a new block. With this knowledge, the node can use the transactions it has already received to partly or fully reconstruct the transactions part of the block for itself.  If the node doesn’t receive all the transactions it needs to fully reconstruct the block, it requests the missing transactions from its peers, and then uses them to complete the block.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/bitcoin/bips/master/bip-0152/protocol-flow.png&quot; alt=&quot;Compact Blocks diagram&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Compact blocks provides three very important benefits to the network:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;By reducing the amount of bandwidth used by transaction relay nodes, compact blocks help offset the expected increase in bandwidth that will occur when the segwit capacity increases are enabled by miners.  This offset should allow nodes to continue operating on the network after segwit even if they’re presently near their current bandwidth caps.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;By eliminating the bandwidth spike that occurs when nodes receive a new block, compact blocks may make it easier to keep a node operating on connections with limited peak bandwidth.  For example, several users have reported that receiving a new block slows down other important activity on their network, such as video conferencing, so some of those users shut down Bitcoin Core before starting those activities.  Compact blocks may eliminate those bandwidth spikes and make running Bitcoin Core less inconvenient for those users.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Faster propagation of blocks across the network, by dramatically reducing the amount of data that needs to be transported when a new block is found.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;More information:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/en/releases/0.13.0/#compact-block-support-bip-152&quot;&gt;Release notes&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/en/2016/06/07/compact-blocks-faq/&quot;&gt;Compact Block Relay FAQ&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0152.mediawiki&quot;&gt;BIP152&lt;/a&gt;, which describes the compact blocks protocol&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://bitcoinfibre.org/&quot;&gt;Bitcoin FIBRE&lt;/a&gt;, an open source protocol and implementation that builds upon compact blocks to minimize latency for new block announcements between peers on managed networks.  FIBRE was designed and implemented alongside compact block relay version 1 and it is being used to test improvements for a subsequent version of compact block relay.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;fee-filtering&quot;&gt;Fee filtering&lt;/h2&gt;

&lt;p&gt;For several years now, Bitcoin Core nodes have used a minimum relay fee rate to help determine what unconfirmed transactions they’ll process, relay, and store in their individual memory pools.  Each node gets to decide its own minimum relay fee rate, and if they receive a transaction whose fee rate is below that limit, they don’t add it to their memory pools or relay it to their other peers (although another mechanism called &lt;a href=&quot;https://en.bitcoin.it/wiki/Transaction_fees#Priority_transactions&quot;&gt;transaction priority&lt;/a&gt; historically allowed some transactions that pay a low fee to be accepted into mempools and relayed).&lt;/p&gt;

&lt;p&gt;Prior to Bitcoin Core 0.13.0, nodes didn’t tell each other what minimum fee rate they were using, which could lead to wasted bandwidth.  For example, Alice sends Bob a transaction without realizing that the transaction’s fee rate is below Bob’s minimum.  Because of the way Bitcoin transactions are relayed, Bob has no way of knowing that the transaction is below his limit until he has already downloaded the whole transaction, at which point he stops processing the transaction because its fee rate is too low, so both his bandwidth and Alice’s bandwidth end up being wasted.&lt;/p&gt;

&lt;p&gt;Bitcoin Core 0.13.0 supports a new message that has been added to the peer-to-peer (P2P) protocol, the &lt;code class=&quot;highlighter-rouge&quot;&gt;feefilter&lt;/code&gt; message, which has been designed to help eliminate this wasted bandwidth. This P2P message allows Bob to tell Alice what he is currently using as his minimum relay fee rate so that Alice will not bother trying to relay to him any transactions that pay a fee below his rate.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;More information&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/en/releases/0.13.0/#low-level-rpc-changes&quot;&gt;Release notes for feefilter&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0133.mediawiki&quot;&gt;BIP133: &lt;code class=&quot;highlighter-rouge&quot;&gt;feefilter&lt;/code&gt;
message&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;bip32-hd-wallet-support&quot;&gt;BIP32 HD wallet support&lt;/h2&gt;

&lt;p&gt;When Bitcoin Core starts for the first time, it will now generate a BIP32 Hierarchical Deterministic (HD) wallet where every private key in the wallet is derived from a single piece of information using a repeatable (deterministic) process. This means backing up that single piece of information will back up every private key your wallet will ever generate, ensuring that you can recover any bitcoins controlled by those private keys in the future.&lt;/p&gt;

&lt;p&gt;Backups are hard to get right, so please note the following information:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;If you upgrade from any version of Bitcoin Core before 0.13.0, you will continue using the old style of wallet where each private key is generated individually, with (by default) up to 100 of them pre-generated in advance to make backups easier—meaning you need to create additional backups every 100 transactions, since each default-style transaction uses one private key.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If you create a new wallet with 0.13.0 (or above) and you change from the default unencrypted wallet to an encrypted wallet, a new HD wallet will be generated for you.  You will still have access to any bitcoins sent to the unencrypted wallet, but you will need to backup the wallet again.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you aren’t sure whether you’re using an HD wallet, you can check using the &lt;code class=&quot;highlighter-rouge&quot;&gt;getwalletinfo&lt;/code&gt; RPC:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;If you use the Bitcoin Core graphical user interface, you can click the &lt;em&gt;Help&lt;/em&gt; menu, choose the &lt;em&gt;Debug&lt;/em&gt; option, click the &lt;em&gt;Console&lt;/em&gt; tab, and then type in &lt;code class=&quot;highlighter-rouge&quot;&gt;getwalletinfo&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If you use the &lt;code class=&quot;highlighter-rouge&quot;&gt;bitcoin-cli&lt;/code&gt; command to access the RPC interface, you can type &lt;code class=&quot;highlighter-rouge&quot;&gt;bitcoin-cli getwalletinfo&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In either case, if you see a line labeled “masterkeyid”, then you’re using an HD wallet; if you don’t see it, then you’re using a wallet with individually generated keys.&lt;/p&gt;

&lt;p&gt;Backing up an HD wallet ensures that you will be able to re-generate any private keys produced by that wallet in the future, but that is the only information you can recover from the backup in the future.  Any additional information you enter into your wallet after you make the backup, such as descriptions of transactions you sent or received, will be lost if you have to restore from the HD wallet backup, so we recommend that you continue to make regular backups of your wallet in order to preserve that information.&lt;/p&gt;

&lt;p&gt;Importantly, if you manually import any private keys to your wallet, they cannot be recovered using any backups made prior to the import, so you will need to make a new wallet backup and use that.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;More information&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/en/releases/0.13.0/#hierarchical-deterministic-key-generation&quot;&gt;Release notes&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://en.bitcoin.it/wiki/Deterministic_wallet&quot;&gt;Deterministic
wallets&lt;/a&gt; (Bitcoin
Wiki)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki&quot;&gt;BIP32: Hierarchical Deterministic Wallets&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;more-intelligent-transaction-selection-for-mining&quot;&gt;More intelligent transaction selection for mining&lt;/h2&gt;

&lt;p&gt;Ancestor fee rate mining is the new default transaction selection method for mining in Bitcoin Core 0.13.0.  Miners can use it to select which transactions to put in their next block, providing two important benefits:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;For miners&lt;/strong&gt; often more revenue can be earned from transaction fees per block because ancestor fee rate mining is able to prioritize certain higher-fee transactions.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;For users&lt;/strong&gt; as a side benefit of miners choosing transactions more intelligently, it becomes possible for the recipient of an unconfirmed transaction to incentivize miners to mine that transaction.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Bitcoin has rule that says if Alice spends a bitcoin to Bob, the transaction where Alice originally receives the bitcoin must appear earlier in the blockchain than the transaction where she spends that bitcoin to Bob.  In other words, the parent transaction must appear earlier in the blockchain than its child transaction, forming an ancestor relationship.&lt;/p&gt;

&lt;p&gt;Both the child and parent transactions can appear in the same block, but if they do, the parent must appear earlier in that block than the child.  This means that if an unconfirmed child transaction pays a high fee, miners should be incentivized by this existing Bitcoin rule to mine that transaction’s unconfirmed parent (even if it pays a low fee) in order to get the child’s high fee.&lt;/p&gt;

&lt;p&gt;This incentivization scheme is often called Child Pays For Parent (CPFP).  In the simplest version, miners group a transaction and all of its ancestors together, calculating their total fee-per-byte in order to determine whether mining them together pays a high enough fee to outbid other individual transactions the miner wants to include in its next block.&lt;/p&gt;

&lt;p&gt;A key advantage of ancestor fee rate mining is that the two transactions don’t need to be created by the same person.  For example, if Bob is waiting for confirmation of a transaction that Alice sent him, Bob can independently create a child transaction that incentivizes miners to confirm his transaction and Alice’s transaction together.&lt;/p&gt;

&lt;p&gt;It is important to note that ancestor fee rate mining doesn’t guarantee that a low-fee transaction will be mined just because it has a high-fee child or other descendent.  In particular, almost all miners and nodes will ignore transactions that don’t pay a minimal amount of fee per kilobyte of data (the exact ratio varies by node), so if a parent transaction is ignored because the fee it pays is below this limit, then its children will not be mined no matter how high a fee they pay.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;More information:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/en/releases/0.13.0/#mining-transaction-selection-child-pays-for-parent&quot;&gt;Release notes&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Child Pays For Parent (CPFP) compared to opt-in Replace-by-Fee (RBF)
in the &lt;a href=&quot;/en/faq/optin_rbf/#what-is-child-pays-for-parent-cpfp&quot;&gt;opt-in RBF
FAQ&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://www.reddit.com/r/Bitcoin/comments/4oeqhk/bitcoin_core_child_pays_for_parent_merged/d4cg8ov?context=1&quot;&gt;Brief history of CPFP development in Bitcoin
Core&lt;/a&gt;,
a Reddit comment by Gregory Maxwell&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;official-builds-for-linux-on-arm&quot;&gt;Official builds for Linux on ARM&lt;/h2&gt;

&lt;p&gt;The official Bitcoin Core binaries built and cryptographically signed by multiple contributors through the &lt;a href=&quot;https://bitcoinmagazine.com/articles/what-is-gitian-building-how-bitcoin-s-security-processes-became-a-model-for-the-open-source-community-1461862937&quot;&gt;Gitian process&lt;/a&gt; now includes two new platforms:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;bitcoin-${VERSION}-arm-linux-gnueabihf.tar.gz: Linux binaries for the most common 32-bit ARM architecture.&lt;/li&gt;
  &lt;li&gt;bitcoin-${VERSION}-aarch64-linux-gnu.tar.gz: Linux binaries for the most common 64-bit ARM architecture.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you have the GNU C compiler installed, you can run the following command to figure out which platform you’re using:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gcc -print-multiarch
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or you if use a Debian-based system, you can try the following command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dpkg-architecture -q DEB_HOST_GNU_SYSTEM
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;These binaries are designed for Linux using GNU libc6; they are not expected to run by default on Android or other operating systems.&lt;/p&gt;

&lt;p&gt;The new builds are still experimental, so please &lt;a href=&quot;https://github.com/bitcoin/bitcoin/issues/new&quot;&gt;report any problems&lt;/a&gt; that you encounter.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;More information&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;/en/releases/0.13.0/#linux-arm-builds&quot;&gt;Release notes&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The Bitcoin Wiki has a list of &lt;a href=&quot;https://en.bitcoin.it/wiki/Bitcoin_Core_compatible_devices&quot;&gt;Bitcoin Core compatible devices&lt;/a&gt;.  Please add any unlisted devices that are also compatible.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The Debian Wiki includes information about boards that are &lt;em&gt;probably&lt;/em&gt; compatible with these builds: &lt;a href=&quot;https://wiki.debian.org/ArmHardFloatPort#Hardware&quot;&gt;32-bit arm-linux-gnueabihf&lt;/a&gt; and &lt;a href=&quot;https://wiki.debian.org/Arm64Port#Hardware.2C_emulators_and_models&quot;&gt;64-bit aarch64-linux-gnu&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;For details on all the changes made in Bitcoin Core 0.13.0, please &lt;a href=&quot;/en/releases/0.13.0/&quot;&gt;read the release notes&lt;/a&gt;.  To download, please visit the &lt;a href=&quot;https://bitcoin.org/en/download&quot;&gt;download page&lt;/a&gt; or the &lt;a href=&quot;https://bitcoin.org/bin/bitcoin-core-0.13.0/&quot;&gt;files directory&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;With the release of Bitcoin Core 0.13.0, we begin the six-month release cycle for the next version of Bitcoin Core (expected to be 0.14.0).  With the participation of the community, we will also be choosing the BIP9 parameters for segregated witness and releasing a minor version (expected to be 0.13.1) with segwit fully enabled.&lt;/p&gt;

&lt;p&gt;If you are interested in contributing to Bitcoin Core, please see our &lt;a href=&quot;/en/contribute&quot;&gt;contributing page&lt;/a&gt; and the document &lt;a href=&quot;/en/faq/contributing-code/&quot;&gt;How to contribute code to Bitcoin Core&lt;/a&gt;.  If you don’t know where to get started or have any other questions, please stop by either our &lt;a href=&quot;https://en.bitcoin.it/wiki/IRC_channels&quot;&gt;IRC&lt;/a&gt; or &lt;a href=&quot;https://slack.bitcoincore.org&quot;&gt;Slack&lt;/a&gt; chatrooms and we’ll do our best to help you.&lt;/p&gt;

&lt;h2 id=&quot;hashes-for-verification&quot;&gt;Hashes for verification&lt;/h2&gt;

&lt;p&gt;These are the SHA-256 hashes of the released files:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;f94123e37530f9de25988ff93e5568a93aa5146f689e63fb0ec1f962cf0bbfcd  bitcoin-0.13.0-aarch64-linux-gnu.tar.gz
7c657ec6f6a5dbb93b9394da510d5dff8dd461df8b80a9410f994bc53c876303  bitcoin-0.13.0-arm-linux-gnueabihf.tar.gz
d6da2801dd9d92183beea16d0f57edcea85fc749cdc2abec543096c8635ad244  bitcoin-0.13.0-i686-pc-linux-gnu.tar.gz
2f67ac67b935368e06f2f3b83f0173be641eef799e45d0a267efc0b9802ca8d2  bitcoin-0.13.0-osx64.tar.gz
e7fed095f1fb833d167697c19527d735e43ab2688564887b80b76c3c349f85b0  bitcoin-0.13.0-osx.dmg
0c7d7049689bb17f4256f1e5ec20777f42acef61814d434b38e6c17091161cda  bitcoin-0.13.0.tar.gz
213e6626ad1f7a0c7a0ae2216edd9c8f7b9617c84287c17c15290feca0b8f13b  bitcoin-0.13.0-win32-setup.exe
5c5bd6d31e4f764e33f2f3034e97e34789c3066a62319ae8d6a6011251187f7c  bitcoin-0.13.0-win32.zip
c94f351fd5266e07d2132d45dd831d87d0e7fdb673d5a0ba48638e2f9f8339fc  bitcoin-0.13.0-win64-setup.exe
54606c9a4fd32b826ceab4da9335d7a34a380859fa9495bf35a9e9c0dd9b6298  bitcoin-0.13.0-win64.zip
bcc1e42d61f88621301bbb00512376287f9df4568255f8b98bc10547dced96c8  bitcoin-0.13.0-x86_64-linux-gnu.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


            &lt;p&gt;&lt;a href=&quot;https://bitcoincore.org/en/2016/08/23/release-0.13.0/&quot;&gt;Bitcoin Core 0.13.0 Released!&lt;/a&gt; was originally published by Bitcoin Core at &lt;a href=&quot;https://bitcoincore.org&quot;&gt;Bitcoin Core&lt;/a&gt; on August 23, 2016.&lt;/p&gt;
        </content>
    </entry>
    
</feed>

